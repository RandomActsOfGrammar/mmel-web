<html>
<head>
<title>Extensibella:  Extensibella Example:  stlc:pair</title>
<link href="../../../../style.css" rel="stylesheet" type="text/css">
<script src="../../../../actions.js"></script>
<link rel="icon" href="../../../images/favicon.png" type="image/x-icon">
</head>
<body class="extensibella">
<div id="header-logo">
<a href="../../../index.html">
<img class="header-logo" src="../../../images/Extensibella.png" alt="Extensibella logo">
</a>
</div>
<h1>Extensibella Example:  stlc:pair</h1><div class="section specification">
<h2>Language Specification</h2>
<h3>File:  def.sos</h3>
<a class="fold-link" href="javascript:void" id="toggledef.sos" onclick="toggleFile('def.sos')">[Reduce File]</a><span> </span><a class="fold-link" href="def.sos">[Raw File]</a>
<pre class="code sterling" id="def.sos">
Module stlc:pair

Builds on stlc:host

tm ::= ...
     | pair(tm, tm)
     | fst(tm)
     | snd(tm)


ty ::= ...
     | pairTy(ty)


typeOf Ctx T1 Ty
------------------------------------------------------ [Trans-Pair]
Ctx |{tm}- pair(T1, T2) ~~>
     abs("A", Ty, abs("B", Ty,
         abs("S", arrowTy(Ty, arrowTy(Ty, Ty)),
             app(app(var("S"), var("A")), var("B")))))


typeOf Ctx T pairTy(Ty)
------------------------------------------------- [Trans-Fst]
Ctx |{tm}- fst(T) ~~>
     app(T, abs("A", Ty, abs("B", Ty, var("A"))))


typeOf Ctx T pairTy(Ty)
------------------------------------------------- [Trans-Snd]
Ctx |{tm}- snd(T) ~~>
     app(T, abs("A", Ty, abs("B", Ty, var("B"))))


---------------------------------------------------- [Trans-PairTy]
|{ty}- pairTy(Ty) ~~>
 arrowTy(Ty, arrowTy(Ty,
         arrowTy(arrowTy(Ty, arrowTy(Ty, Ty)), Ty)))



eval T1 T11
------------------------------- [E-Pair-Step1]
eval pair(T1, T2) pair(T11, T2)


value T1
eval T2 T21
------------------------------- [E-Pair-Step2]
eval pair(T1, T2) pair(T1, T21)


eval T T1
------------------- [E-Fst-Step]
eval fst(T) fst(T1)


value pair(T1, T2)
------------------------- [E-Fst-Pair]
eval fst(pair(T1, T2)) T1


eval T T1
------------------- [E-Snd-Step]
eval snd(T) snd(T1)


value pair(T1, T2)
------------------------- [E-Snd-Pair]
eval snd(pair(T1, T2)) T2



subst X R T1 T11
subst X R T2 T21
------------------------------------- [S-Pair]
subst X R pair(T1, T2) pair(T11, T21)


subst X R T T1
------------------------ [S-Fst]
subst X R fst(T) fst(T1)


subst X R T T1
------------------------ [S-Snd]
subst X R snd(T) snd(T1)



value T1
value T2
------------------ [V-Pair]
value pair(T1, T2)



typeOf Ctx T1 Ty
typeOf Ctx T2 Ty
---------------------------------- [T-Pair]
typeOf Ctx pair(T1, T2) pairTy(Ty)


typeOf Ctx T pairTy(Ty)
----------------------- [T-Fst]
typeOf Ctx fst(T) Ty


typeOf Ctx T pairTy(Ty)
----------------------- [T-Snd]
typeOf Ctx snd(T) Ty



----------------------------------- [CF-Pair]
canonicalForm pairTy(Ty) pair(A, B)
</pre>
</div>
<div class="section reasoning">
<h2>Reasoning</h2>
<a class="fold-link" href="javascript:void" onclick="allProofShow();">[Show All Proofs]</a><span> </span><a class="fold-link" href="javascript:void" onclick="allProofHide();">[Hide All Proofs]</a>
<span> </span><a class="fold-link" href="pair.xthm">[Raw File]</a>
<p>Click on a command or tactic to see a detailed view of its use.</p><pre class="code extensibella">
<a class="command" href="pair-details.html#0">Module stlc:pair.</a>

<a class="command" href="pair-details.html#1">Prove stlc:host:type_is.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(2);" id="toggleproof2">[Show Proof]</a>
<div class="proof" id="proof2" style="display: none;">
<span class="comment">%T-Pair</span>
 <a class="tactic" href="pair-details.html#2">Is: case IsT.</a> <a class="tactic" href="pair-details.html#3">apply IH to _ _ Ty1.</a> <a class="tactic" href="pair-details.html#4">search.</a>
<span class="comment">%T-Fst</span>
 <a class="tactic" href="pair-details.html#5">Is: case IsT.</a> <a class="tactic" href="pair-details.html#6">IsTy: apply IH to _ _ Ty1.</a> <a class="tactic" href="pair-details.html#7">case IsTy.</a> <a class="tactic" href="pair-details.html#8">search.</a>
<span class="comment">%T-Snd</span>
 <a class="tactic" href="pair-details.html#9">Is: case IsT.</a> <a class="tactic" href="pair-details.html#10">IsTy: apply IH to _ _ Ty1.</a> <a class="tactic" href="pair-details.html#11">case IsTy.</a> <a class="tactic" href="pair-details.html#12">search.</a></div>


<a class="command" href="pair-details.html#13">Prove_Constraint stlc:host:trans_is.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(14);" id="toggleproof14">[Show Proof]</a>
<div class="proof" id="proof14" style="display: none;">
<span class="comment">%Trans-Pair</span>
 <a class="tactic" href="pair-details.html#14">case IsT.</a> <a class="tactic" href="pair-details.html#15">apply type_is to _ _ Trans1.</a> <a class="tactic" href="pair-details.html#16">search 9.</a>
<span class="comment">%Trans-Fst</span>
 <a class="tactic" href="pair-details.html#17">case IsT.</a> <a class="tactic" href="pair-details.html#18">IsTy: apply type_is to _ _ Trans1.</a> <a class="tactic" href="pair-details.html#19">case IsTy.</a> <a class="tactic" href="pair-details.html#20">search 7.</a>
<span class="comment">%Trans-Snd</span>
 <a class="tactic" href="pair-details.html#21">case IsT.</a> <a class="tactic" href="pair-details.html#22">IsTy: apply type_is to _ _ Trans1.</a> <a class="tactic" href="pair-details.html#23">case IsTy.</a> <a class="tactic" href="pair-details.html#24">search 7.</a></div>


<a class="command" href="pair-details.html#25">Prove stlc:host:subst_is.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(26);" id="toggleproof26">[Show Proof]</a>
<div class="proof" id="proof26" style="display: none;">
<span class="comment">%S-Pair</span>
 <a class="tactic" href="pair-details.html#26">Is: case IsT.</a> <a class="tactic" href="pair-details.html#27">apply IH to _ _ _ S1.</a> <a class="tactic" href="pair-details.html#28">apply IH to _ _ _ S2.</a> <a class="tactic" href="pair-details.html#29">search.</a>
<span class="comment">%S-Fst</span>
 <a class="tactic" href="pair-details.html#30">Is: case IsT.</a> <a class="tactic" href="pair-details.html#31">apply IH to _ _ _ S1.</a> <a class="tactic" href="pair-details.html#32">search.</a>
<span class="comment">%S-Snd</span>
 <a class="tactic" href="pair-details.html#33">Is: case IsT.</a> <a class="tactic" href="pair-details.html#34">apply IH to _ _ _ S1.</a> <a class="tactic" href="pair-details.html#35">search.</a></div>


<a class="command" href="pair-details.html#36">Prove stlc:host:eval_is.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(37);" id="toggleproof37">[Show Proof]</a>
<div class="proof" id="proof37" style="display: none;">
<span class="comment">%E-Pair-Step1</span>
 <a class="tactic" href="pair-details.html#37">Is: case IsT.</a> <a class="tactic" href="pair-details.html#38">apply IH to _ Ev1.</a> <a class="tactic" href="pair-details.html#39">search.</a>
<span class="comment">%E-Pair-Step2</span>
 <a class="tactic" href="pair-details.html#40">Is: case IsT.</a> <a class="tactic" href="pair-details.html#41">apply IH to _ Ev2.</a> <a class="tactic" href="pair-details.html#42">search.</a>
<span class="comment">%E-Fst-Step</span>
 <a class="tactic" href="pair-details.html#43">Is: case IsT.</a> <a class="tactic" href="pair-details.html#44">apply IH to _ Ev1.</a> <a class="tactic" href="pair-details.html#45">search.</a>
<span class="comment">%E-Fst-Pair</span>
 <a class="tactic" href="pair-details.html#46">Is: case IsT.</a> <a class="tactic" href="pair-details.html#47">case Is.</a> <a class="tactic" href="pair-details.html#48">search.</a>
<span class="comment">%E-Snd-Step</span>
 <a class="tactic" href="pair-details.html#49">Is: case IsT.</a> <a class="tactic" href="pair-details.html#50">apply IH to _ Ev1.</a> <a class="tactic" href="pair-details.html#51">search.</a>
<span class="comment">%E-Snd-Pair</span>
 <a class="tactic" href="pair-details.html#52">Is: case IsT.</a> <a class="tactic" href="pair-details.html#53">case Is.</a> <a class="tactic" href="pair-details.html#54">search.</a></div>


<a class="command" href="pair-details.html#55">Prove stlc:host:subst_unique.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(56);" id="toggleproof56">[Show Proof]</a>
<div class="proof" id="proof56" style="display: none;">
<span class="comment">%S-Pair</span>
 <a class="tactic" href="pair-details.html#56">SB: case SB.</a> <a class="tactic" href="pair-details.html#57">apply IH to SA1 SB.</a> <a class="tactic" href="pair-details.html#58">apply IH to SA2 SB1.</a> <a class="tactic" href="pair-details.html#59">search.</a>
<span class="comment">%S-Fst</span>
 <a class="tactic" href="pair-details.html#60">SB: case SB.</a> <a class="tactic" href="pair-details.html#61">apply IH to SA1 SB.</a> <a class="tactic" href="pair-details.html#62">search.</a>
<span class="comment">%S-Snd</span>
 <a class="tactic" href="pair-details.html#63">SB: case SB.</a> <a class="tactic" href="pair-details.html#64">apply IH to SA1 SB.</a> <a class="tactic" href="pair-details.html#65">search.</a></div>


<a class="command" href="pair-details.html#66">Prove stlc:host:value_eval_false.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(67);" id="toggleproof67">[Show Proof]</a>
<div class="proof" id="proof67" style="display: none;">
<span class="comment">%V-Pair</span>
 <a class="tactic" href="pair-details.html#67">Ev: case Ev.</a>
   <span class="comment">%E-Pair-Step1</span>
    <a class="tactic" href="pair-details.html#68">apply IH to Val1 Ev.</a>
   <span class="comment">%E-Pair-Step2</span>
    <a class="tactic" href="pair-details.html#69">apply IH to Val2 Ev1.</a></div>


<a class="command" href="pair-details.html#70">Prove stlc:host:eval_unique.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(71);" id="toggleproof71">[Show Proof]</a>
<div class="proof" id="proof71" style="display: none;">
<span class="comment">%E-Pair-Step1</span>
 <a class="tactic" href="pair-details.html#71">EvB: case EvB.</a>
   <span class="comment">%E-Pair-Step1</span>
    <a class="tactic" href="pair-details.html#72">apply IH to EvA1 EvB.</a> <a class="tactic" href="pair-details.html#73">search.</a>
   <span class="comment">%E-Pair-Step2</span>
    <a class="tactic" href="pair-details.html#74">apply value_eval_false to EvB EvA1.</a>
<span class="comment">%E-Pair-Step2</span>
 <a class="tactic" href="pair-details.html#75">EvB: case EvB.</a>
   <span class="comment">%E-Pair-Step1</span>
    <a class="tactic" href="pair-details.html#76">apply value_eval_false to EvA1 EvB.</a>
   <span class="comment">%E-Pair-Step2</span>
    <a class="tactic" href="pair-details.html#77">apply IH to EvA2 EvB1.</a> <a class="tactic" href="pair-details.html#78">search.</a>
<span class="comment">%E-Fst-Step</span>
 <a class="tactic" href="pair-details.html#79">EvB: case EvB.</a>
   <span class="comment">%E-Fst-Step</span>
    <a class="tactic" href="pair-details.html#80">apply IH to EvA1 EvB.</a> <a class="tactic" href="pair-details.html#81">search.</a>
   <span class="comment">%E-Fst-Pair</span>
    <a class="tactic" href="pair-details.html#82">apply value_eval_false to EvB EvA1.</a>
<span class="comment">%E-Fst-Pair</span>
 <a class="tactic" href="pair-details.html#83">EvB: case EvB.</a>
   <span class="comment">%E-Fst-Step</span>
    <a class="tactic" href="pair-details.html#84">apply value_eval_false to EvA1 EvB.</a>
   <span class="comment">%E-Fst-Pair</span>
    <a class="tactic" href="pair-details.html#85">search.</a>
<span class="comment">%E-Snd-Step</span>
 <a class="tactic" href="pair-details.html#86">EvB: case EvB.</a>
   <span class="comment">%E-Snd-Step</span>
    <a class="tactic" href="pair-details.html#87">apply IH to EvA1 EvB.</a> <a class="tactic" href="pair-details.html#88">search.</a>
   <span class="comment">%E-Snd-Pair</span>
    <a class="tactic" href="pair-details.html#89">apply value_eval_false to EvB EvA1.</a>
<span class="comment">%E-Snd-Pair</span>
 <a class="tactic" href="pair-details.html#90">EvB: case EvB.</a>
   <span class="comment">%E-Snd-Step</span>
    <a class="tactic" href="pair-details.html#91">apply value_eval_false to EvA1 EvB.</a>
   <span class="comment">%E-Snd-Pair</span>
    <a class="tactic" href="pair-details.html#92">search.</a></div>


<a class="command" href="pair-details.html#93">Prove stlc:host:ty_lookup.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(94);" id="toggleproof94">[Show Proof]</a>
<div class="proof" id="proof94" style="display: none;">
<span class="comment">%T-Pair</span>
 <a class="tactic" href="pair-details.html#94">apply IH to Ty1 L.</a> <a class="tactic" href="pair-details.html#95">apply IH to Ty2 L.</a> <a class="tactic" href="pair-details.html#96">search.</a>
<span class="comment">%T-Fst</span>
 <a class="tactic" href="pair-details.html#97">apply IH to Ty1 L.</a> <a class="tactic" href="pair-details.html#98">search.</a>
<span class="comment">%T-Snd</span>
 <a class="tactic" href="pair-details.html#99">apply IH to Ty1 L.</a> <a class="tactic" href="pair-details.html#100">search.</a></div>


<a class="command" href="pair-details.html#101">Prove stlc:host:subst_type_preservation.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(102);" id="toggleproof102">[Show Proof]</a>
<div class="proof" id="proof102" style="display: none;">
<span class="comment">%S-Pair</span>
 <a class="tactic" href="pair-details.html#102">Ty: case TTy.</a> <a class="tactic" href="pair-details.html#103">apply IH to Ty S1 RTy.</a> <a class="tactic" href="pair-details.html#104">apply IH to Ty1 S2 RTy.</a> <a class="tactic" href="pair-details.html#105">search.</a>
<span class="comment">%S-Fst</span>
 <a class="tactic" href="pair-details.html#106">Ty: case TTy.</a> <a class="tactic" href="pair-details.html#107">apply IH to Ty S1 RTy.</a> <a class="tactic" href="pair-details.html#108">search.</a>
<span class="comment">%S-Snd</span>
 <a class="tactic" href="pair-details.html#109">Ty: case TTy.</a> <a class="tactic" href="pair-details.html#110">apply IH to Ty S1 RTy.</a> <a class="tactic" href="pair-details.html#111">search.</a></div>


<a class="command" href="pair-details.html#112">Prove stlc:host:type_preservation.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(113);" id="toggleproof113">[Show Proof]</a>
<div class="proof" id="proof113" style="display: none;">
<span class="comment">%E-Pair-Step1</span>
 <a class="tactic" href="pair-details.html#113">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#114">apply IH to Ty Ev1.</a> <a class="tactic" href="pair-details.html#115">search.</a>
<span class="comment">%E-Pair-Step2</span>
 <a class="tactic" href="pair-details.html#116">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#117">apply IH to Ty1 Ev2.</a> <a class="tactic" href="pair-details.html#118">search.</a>
<span class="comment">%E-Fst-Step</span>
 <a class="tactic" href="pair-details.html#119">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#120">apply IH to Ty Ev1.</a> <a class="tactic" href="pair-details.html#121">search.</a>
<span class="comment">%E-Fst-Pair</span>
 <a class="tactic" href="pair-details.html#122">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#123">case Ty.</a> <a class="tactic" href="pair-details.html#124">search.</a>
<span class="comment">%E-Snd-Step</span>
 <a class="tactic" href="pair-details.html#125">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#126">apply IH to Ty Ev1.</a> <a class="tactic" href="pair-details.html#127">search.</a>
<span class="comment">%E-Snd-Pair</span>
 <a class="tactic" href="pair-details.html#128">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#129">case Ty.</a> <a class="tactic" href="pair-details.html#130">search.</a></div>


<a class="command" href="pair-details.html#131">Prove stlc:host:subst_total.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(132);" id="toggleproof132">[Show Proof]</a>
<div class="proof" id="proof132" style="display: none;">
<span class="comment">%S-Pair</span>
 <a class="tactic" href="pair-details.html#132">apply IH to IsT1 IsX with R = R.</a> <a class="tactic" href="pair-details.html#133">apply IH to IsT2 IsX with R = R.</a>
 <a class="tactic" href="pair-details.html#134">search.</a>
<span class="comment">%S-Fst</span>
 <a class="tactic" href="pair-details.html#135">apply IH to IsT1 IsX with R = R.</a> <a class="tactic" href="pair-details.html#136">search.</a>
<span class="comment">%S-Snd</span>
 <a class="tactic" href="pair-details.html#137">apply IH to IsT1 IsX with R = R.</a> <a class="tactic" href="pair-details.html#138">search.</a></div>


<a class="command" href="pair-details.html#139">Prove stlc:host:canonical_forms.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(140);" id="toggleproof140">[Show Proof]</a>
<div class="proof" id="proof140" style="display: none;">
<span class="comment">%V-Pair</span>
 <a class="tactic" href="pair-details.html#140">Ty: case Ty.</a> <a class="tactic" href="pair-details.html#141">search.</a></div>

<span class="comment">%special case of canonical_forms, in the way we will use it here</span>
<a class="command" href="pair-details.html#142">Theorem canonical_form_pairTy : forall V Ty,
  value V -> typeOf [] V (pairTy Ty) -> exists A B, V = pair A B.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(143);" id="toggleproof143">[Show Proof]</a>
<div class="proof" id="proof143" style="display: none;">
<a class="tactic" href="pair-details.html#143">intros V Ty.</a> <a class="tactic" href="pair-details.html#144">CF: apply canonical_forms to V Ty.</a> <a class="tactic" href="pair-details.html#145">case CF.</a> <a class="tactic" href="pair-details.html#146">search.</a></div>


<a class="command" href="pair-details.html#147">Prove stlc:host:progress.</a><span> </span><a class="fold-link" href="javascript:void" onclick="proofToggle(148);" id="toggleproof148">[Show Proof]</a>
<div class="proof" id="proof148" style="display: none;">
<span class="comment">%T-Pair</span>
 <a class="tactic" href="pair-details.html#148">Is: case IsT.</a> <a class="tactic" href="pair-details.html#149">Or1: apply IH to _ Ty1.</a> <a class="tactic" href="pair-details.html#150">Or2: apply IH to _ Ty2.</a>
 <a class="tactic" href="pair-details.html#151">EV1: case Or1.</a>
   <span class="comment">%eval T1 T'</span>
    <a class="tactic" href="pair-details.html#152">search.</a>
   <span class="comment">%value T1</span>
    <a class="tactic" href="pair-details.html#153">EV2: case Or2.</a>
      <span class="comment">%eval T2 T'</span>
       <a class="tactic" href="pair-details.html#154">search.</a>
      <span class="comment">%value T2</span>
       <a class="tactic" href="pair-details.html#155">search.</a>
<span class="comment">%T-Fst</span>
 <a class="tactic" href="pair-details.html#156">Is: case IsT.</a> <a class="tactic" href="pair-details.html#157">Or: apply IH to _ Ty1.</a> <a class="tactic" href="pair-details.html#158">EV: case Or.</a>
   <span class="comment">%eval T1 T'</span>
    <a class="tactic" href="pair-details.html#159">search.</a>
   <span class="comment">%value T1</span>
    <a class="tactic" href="pair-details.html#160">apply canonical_form_pairTy to EV Ty1.</a> <a class="tactic" href="pair-details.html#161">search.</a>
<span class="comment">%T-Snd</span>
 <a class="tactic" href="pair-details.html#162">Is: case IsT.</a> <a class="tactic" href="pair-details.html#163">Or: apply IH to _ Ty1.</a> <a class="tactic" href="pair-details.html#164">EV: case Or.</a>
   <span class="comment">%eval T1 T'</span>
    <a class="tactic" href="pair-details.html#165">search.</a>
   <span class="comment">%value T1</span>
    <a class="tactic" href="pair-details.html#166">apply canonical_form_pairTy to EV Ty1.</a> <a class="tactic" href="pair-details.html#167">search.</a></div>
<a class="command" href="pair-details.html#168"></a>
</pre>
</div>
<div class="section">
<a class="navlink" href="../description.html">Back to example home</a>
</div>
</body>
</html>
