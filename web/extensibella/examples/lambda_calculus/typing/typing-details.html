<html>
<head>
<title>Extensibella:  Extensibella Example:  lambda_calculus:typing - Details</title>
<link href="../../../../style.css" rel="stylesheet" type="text/css">
<script src="../../../../actions.js"></script>
<link rel="icon" href="../../../images/favicon.png" type="image/x-icon">
</head>
<body class="extensibella">
<div id="header-logo">
<a href="../../../../index.html">
<img class="header-logo" src="../../../images/Extensibella.png" alt="Extensibella logo">
</a>
</div>
<h2>Reasoning Details</h2>
<div class="section">
<pre class="code extensibella">
 < <b>Module lambda_calculus:typing.</b>
</pre>
<pre class="code extensibella"id="1">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_is.</b>

Variables: Body X Ty
Hyp : |{e}- tyabs X Ty Body ~~&gt; abs X Body
Hyp1 : is_e (tyabs X Ty Body)
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="2">
 &lt; <b>case Hyp1.</b>

Variables: Body X Ty
Hyp : |{e}- tyabs X Ty Body ~~&gt; abs X Body
H1 : is_string X
H2 : is_ty Ty
H3 : is_e Body
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="3">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="4">
 &lt; <b>Prove_Ext_Ind lambda_calculus:host:is_e.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Acc : acc N @
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="5">
 &lt; <b>apply ext_ind_is_int_is_e to Rel4.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Acc : acc N @
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="6">
 &lt; <b>apply ext_ind_pos_is_e to Rel4.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Acc : acc N @
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
H2 : 0 &lt;= N2
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="7">
 &lt; <b>L: apply lt_plus_one to Rel1 _.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Acc : acc N @
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
H2 : 0 &lt;= N2
L : N2 &lt; N
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="8">
 &lt; <b>Acc: case Acc.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
H2 : 0 &lt;= N2
L : N2 &lt; N
Acc : forall M, 0 &lt;= M -&gt; M &lt; N -&gt; acc M *
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="9">
 &lt; <b>A2: apply Acc to _ L.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
H2 : 0 &lt;= N2
L : N2 &lt; N
Acc : forall M, 0 &lt;= M -&gt; M &lt; N -&gt; acc M *
A2 : acc N2 *
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="10">
 &lt; <b>apply IH to Rel4 A2.</b>

Subgoal 4:

Variables: N N2 E1 Ty S
IH : forall N E, &lt;is_e {ES}&gt; E N -&gt; acc N * -&gt; &lt;is_e {T}&gt; E
IH1 : forall N E, &lt;is_e {ES}&gt; E N ** -&gt; acc N @ -&gt; &lt;is_e {T}&gt; E
Rel : &lt;is_e {ES}&gt; (tyabs S Ty E1) N @@
Rel1 : 1 + N2 = N
Rel2 : is_string S
Rel3 : is_ty Ty
Rel4 : &lt;is_e {ES}&gt; E1 N2 **
H1 : is_integer N2
H2 : 0 &lt;= N2
L : N2 &lt; N
Acc : forall M, 0 &lt;= M -&gt; M &lt; N -&gt; acc M *
A2 : acc N2 *
H3 : &lt;is_e {T}&gt; E1
============================
 &lt;is_e {T}&gt; (tyabs S Ty E1)
</pre>
<pre class="code extensibella"id="11">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="12">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_same.</b>

Variables: E2 Body X Ty
Hyp : |{e}- tyabs X Ty Body ~~&gt; abs X Body
Hyp1 : |{e}- tyabs X Ty Body ~~&gt; E2
============================
 abs X Body = E2
</pre>
<pre class="code extensibella"id="13">
 &lt; <b>case Hyp1.</b>

Variables: Body X Ty
Hyp : |{e}- tyabs X Ty Body ~~&gt; abs X Body
============================
 abs X Body = abs X Body
</pre>
<pre class="code extensibella"id="14">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="15">
 &lt; <b>Prove lambda_calculus:host:subst_exists.</b>

Subgoal 4:

Variables: X R E1 Ty S
IH : forall X R E, is_e E * -&gt; is_string X -&gt; is_e R -&gt; exists S, subst X R E S
IsE : is_e (tyabs S Ty E1) @
IsX : is_string X
IsR : is_e R
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
============================
 exists S1, subst X R (tyabs S Ty E1) S1
</pre>
<pre class="code extensibella"id="16">
 &lt; <b>Or: apply is_string_eq_or_not to IsX IsE1.</b>

Subgoal 4:

Variables: X R E1 Ty S
IH : forall X R E, is_e E * -&gt; is_string X -&gt; is_e R -&gt; exists S, subst X R E S
IsE : is_e (tyabs S Ty E1) @
IsX : is_string X
IsR : is_e R
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
Or : X = S \/ (X = S -&gt; false)
============================
 exists S1, subst X R (tyabs S Ty E1) S1
</pre>
<pre class="code extensibella"id="17">
 &lt; <b>Eq: case Or.</b>

Subgoal 4.1:

Variables: R E1 Ty S
IH : forall X R E, is_e E * -&gt; is_string X -&gt; is_e R -&gt; exists S, subst X R E S
IsE : is_e (tyabs S Ty E1) @
IsX : is_string S
IsR : is_e R
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
============================
 exists S1, subst S R (tyabs S Ty E1) S1
</pre>
<pre class="code extensibella"id="18">
 &lt; <b>search.</b>

Subgoal 4.2:

Variables: X R E1 Ty S
IH : forall X R E, is_e E * -&gt; is_string X -&gt; is_e R -&gt; exists S, subst X R E S
IsE : is_e (tyabs S Ty E1) @
IsX : is_string X
IsR : is_e R
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
Eq : X = S -&gt; false
============================
 exists S1, subst X R (tyabs S Ty E1) S1
</pre>
<pre class="code extensibella"id="19">
 &lt; <b>apply IH to IsE3 IsX IsR.</b>

Subgoal 4.2:

Variables: X R E1 Ty S S1
IH : forall X R E, is_e E * -&gt; is_string X -&gt; is_e R -&gt; exists S, subst X R E S
IsE : is_e (tyabs S Ty E1) @
IsX : is_string X
IsR : is_e R
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
Eq : X = S -&gt; false
H1 : subst X R E1 S1
============================
 exists S1, subst X R (tyabs S Ty E1) S1
</pre>
<pre class="code extensibella"id="20">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="21">
 &lt; <b>Prove lambda_calculus:host:subst_is.</b>

Subgoal 6:

Variables: X R Body Ty
IH : forall X R E S,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S * -&gt; is_e S
IsE : is_e (tyabs X Ty Body)
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs X Ty Body) (abs X Body) @
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="22">
 &lt; <b>case IsE.</b>

Subgoal 6:

Variables: X R Body Ty
IH : forall X R E S,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S * -&gt; is_e S
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs X Ty Body) (abs X Body) @
H1 : is_string X
H2 : is_ty Ty
H3 : is_e Body
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="23">
 &lt; <b>search.</b>

Subgoal 7:

Variables: X R B Y Body Ty
IH : forall X R E S,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S * -&gt; is_e S
IsE : is_e (tyabs Y Ty Body)
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs Y Ty Body) (abs Y B) @
S1 : X = Y -&gt; false
S2 : subst X R Body B *
============================
 is_e (abs Y B)
</pre>
<pre class="code extensibella"id="24">
 &lt; <b>Is: case IsE.</b>

Subgoal 7:

Variables: X R B Y Body Ty
IH : forall X R E S,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S * -&gt; is_e S
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs Y Ty Body) (abs Y B) @
S1 : X = Y -&gt; false
S2 : subst X R Body B *
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_e Body
============================
 is_e (abs Y B)
</pre>
<pre class="code extensibella"id="25">
 &lt; <b>apply IH to _ _ _ S2.</b>

Subgoal 7:

Variables: X R B Y Body Ty
IH : forall X R E S,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S * -&gt; is_e S
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs Y Ty Body) (abs Y B) @
S1 : X = Y -&gt; false
S2 : subst X R Body B *
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_e Body
H1 : is_e B
============================
 is_e (abs Y B)
</pre>
<pre class="code extensibella"id="26">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="27">
 &lt; <b>Prove lambda_calculus:host:eval_is.</b>

Subgoal 3:

Variables: Body X Ty
IH : forall E V, is_e E -&gt; eval E V * -&gt; is_e V
IsE : is_e (tyabs X Ty Body)
Ev : eval (tyabs X Ty Body) (abs X Body) @
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="28">
 &lt; <b>Is: case IsE.</b>

Subgoal 3:

Variables: Body X Ty
IH : forall E V, is_e E -&gt; eval E V * -&gt; is_e V
Ev : eval (tyabs X Ty Body) (abs X Body) @
Is : is_string X
Is1 : is_ty Ty
Is2 : is_e Body
============================
 is_e (abs X Body)
</pre>
<pre class="code extensibella"id="29">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="30">
 &lt; <b>Prove lambda_calculus:host:subst_unique.</b>

Subgoal 6:

Variables: X R SB Body Ty
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs X Ty Body)
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs X Ty Body) (abs X Body) @
SB : subst X R (tyabs X Ty Body) SB
============================
 abs X Body = SB
</pre>
<pre class="code extensibella"id="31">
 &lt; <b>SB: case SB.</b>

Subgoal 6.1:

Variables: X R Body Ty
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs X Ty Body)
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs X Ty Body) (abs X Body) @
============================
 abs X Body = abs X Body
</pre>
<pre class="code extensibella"id="32">
 &lt; <b>search.</b>

Subgoal 6.2:

Variables: X R Body Ty B
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs X Ty Body)
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs X Ty Body) (abs X Body) @
SB : X = X -&gt; false
SB1 : subst X R Body B
============================
 abs X Body = abs X B
</pre>
<pre class="code extensibella"id="33">
 &lt; <b>apply SB to _.</b>

Subgoal 7:

Variables: X R SB B Y Body Ty
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs Y Ty Body)
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs Y Ty Body) (abs Y B) @
SB : subst X R (tyabs Y Ty Body) SB
SA1 : X = Y -&gt; false
SA2 : subst X R Body B *
============================
 abs Y B = SB
</pre>
<pre class="code extensibella"id="34">
 &lt; <b>SB: case SB.</b>

Subgoal 7.1:

Variables: R B Y Body Ty
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs Y Ty Body)
IsX : is_string Y
IsR : is_e R
SA : subst Y R (tyabs Y Ty Body) (abs Y B) @
SA1 : Y = Y -&gt; false
SA2 : subst Y R Body B *
============================
 abs Y B = abs Y Body
</pre>
<pre class="code extensibella"id="35">
 &lt; <b>apply SA1 to _.</b>

Subgoal 7.2:

Variables: X R B Y Body Ty B1
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsE : is_e (tyabs Y Ty Body)
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs Y Ty Body) (abs Y B) @
SA1 : X = Y -&gt; false
SA2 : subst X R Body B *
SB : X = Y -&gt; false
SB1 : subst X R Body B1
============================
 abs Y B = abs Y B1
</pre>
<pre class="code extensibella"id="36">
 &lt; <b>Is: case IsE.</b>

Subgoal 7.2:

Variables: X R B Y Body Ty B1
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs Y Ty Body) (abs Y B) @
SA1 : X = Y -&gt; false
SA2 : subst X R Body B *
SB : X = Y -&gt; false
SB1 : subst X R Body B1
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_e Body
============================
 abs Y B = abs Y B1
</pre>
<pre class="code extensibella"id="37">
 &lt; <b>apply IH to _ _ _ SA2 SB1.</b>

Subgoal 7.2:

Variables: X R Y Body Ty B1
IH : forall X R E SA SB,
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E SA * -&gt; subst X R E SB -&gt; SA = SB
IsX : is_string X
IsR : is_e R
SA : subst X R (tyabs Y Ty Body) (abs Y B1) @
SA1 : X = Y -&gt; false
SA2 : subst X R Body B1 *
SB : X = Y -&gt; false
SB1 : subst X R Body B1
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_e Body
============================
 abs Y B1 = abs Y B1
</pre>
<pre class="code extensibella"id="38">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="39">
 &lt; <b>Prove lambda_calculus:host:eval_unique.</b>

Subgoal 3:

Variables: VB Body X Ty
IH : forall E VA VB, is_e E -&gt; eval E VA * -&gt; eval E VB -&gt; VA = VB
IsE : is_e (tyabs X Ty Body)
EvA : eval (tyabs X Ty Body) (abs X Body) @
EvB : eval (tyabs X Ty Body) VB
============================
 abs X Body = VB
</pre>
<pre class="code extensibella"id="40">
 &lt; <b>case EvB.</b>

Subgoal 3:

Variables: Body X Ty
IH : forall E VA VB, is_e E -&gt; eval E VA * -&gt; eval E VB -&gt; VA = VB
IsE : is_e (tyabs X Ty Body)
EvA : eval (tyabs X Ty Body) (abs X Body) @
============================
 abs X Body = abs X Body
</pre>
<pre class="code extensibella"id="41">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="42">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_subst.</b>

Variables: X R S Body X1 Ty
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs X1 Ty Body) S
============================
 exists S', subst X R (abs X1 Body) S'
</pre>
<pre class="code extensibella"id="43">
 &lt; <b>S: case S.</b>

Subgoal 1:

Variables: R Body X1 Ty
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
IsX : is_string X1
IsR : is_e R
============================
 exists S', subst X1 R (abs X1 Body) S'
</pre>
<pre class="code extensibella"id="44">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X R Body X1 Ty B
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
IsX : is_string X
IsR : is_e R
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 exists S', subst X R (abs X1 Body) S'
</pre>
<pre class="code extensibella"id="45">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="46">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_subst_same.</b>

Variables: X R S S' Body X1 Ty
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X
IsR : is_e R
S : subst X R (tyabs X1 Ty Body) S
S' : subst X R (abs X1 Body) S'
============================
 S = S'
</pre>
<pre class="code extensibella"id="47">
 &lt; <b>S: case S.</b>

Subgoal 1:

Variables: R S' Body X1 Ty
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X1
IsR : is_e R
S' : subst X1 R (abs X1 Body) S'
============================
 abs X1 Body = S'
</pre>
<pre class="code extensibella"id="48">
 &lt; <b>S': case S'.</b>

Subgoal 1.1:

Variables: R Body X1 Ty
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X1
IsR : is_e R
============================
 abs X1 Body = abs X1 Body
</pre>
<pre class="code extensibella"id="49">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: R Body X1 Ty B
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X1
IsR : is_e R
S' : X1 = X1 -&gt; false
S'1 : subst X1 R Body B
============================
 abs X1 Body = abs X1 B
</pre>
<pre class="code extensibella"id="50">
 &lt; <b>apply S' to _.</b>

Subgoal 2:

Variables: X R S' Body X1 Ty B
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X
IsR : is_e R
S' : subst X R (abs X1 Body) S'
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 abs X1 B = S'
</pre>
<pre class="code extensibella"id="51">
 &lt; <b>S': case S'.</b>

Subgoal 2.1:

Variables: R Body X1 Ty B
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X1
IsR : is_e R
S : X1 = X1 -&gt; false
S1 : subst X1 R Body B
============================
 abs X1 B = abs X1 Body
</pre>
<pre class="code extensibella"id="52">
 &lt; <b>apply S to _.</b>

Subgoal 2.2:

Variables: X R Body X1 Ty B B1
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
IsE : is_e (tyabs X1 Ty Body)
isX : is_string X
IsR : is_e R
S : X = X1 -&gt; false
S1 : subst X R Body B
S' : X = X1 -&gt; false
S'1 : subst X R Body B1
============================
 abs X1 B = abs X1 B1
</pre>
<pre class="code extensibella"id="53">
 &lt; <b>case IsE.</b>

Subgoal 2.2:

Variables: X R Body X1 Ty B B1
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
isX : is_string X
IsR : is_e R
S : X = X1 -&gt; false
S1 : subst X R Body B
S' : X = X1 -&gt; false
S'1 : subst X R Body B1
H1 : is_string X1
H2 : is_ty Ty
H3 : is_e Body
============================
 abs X1 B = abs X1 B1
</pre>
<pre class="code extensibella"id="54">
 &lt; <b>apply subst_unique to _ _ _ S1 S'1.</b>

Subgoal 2.2:

Variables: X R Body X1 Ty B1
Trans : |{e}- tyabs X1 Ty Body ~~&gt; abs X1 Body
isX : is_string X
IsR : is_e R
S : X = X1 -&gt; false
S1 : subst X R Body B1
S' : X = X1 -&gt; false
S'1 : subst X R Body B1
H1 : is_string X1
H2 : is_ty Ty
H3 : is_e Body
============================
 abs X1 B1 = abs X1 B1
</pre>
<pre class="code extensibella"id="55">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="56">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_eval.</b>

Variables: V Body X Ty
Trans : |{e}- tyabs X Ty Body ~~&gt; abs X Body
IsE : is_e (tyabs X Ty Body)
Ev : eval (tyabs X Ty Body) V
============================
 exists V', eval (abs X Body) V'
</pre>
<pre class="code extensibella"id="57">
 &lt; <b>case Ev.</b>

Variables: Body X Ty
Trans : |{e}- tyabs X Ty Body ~~&gt; abs X Body
IsE : is_e (tyabs X Ty Body)
============================
 exists V', eval (abs X Body) V'
</pre>
<pre class="code extensibella"id="58">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="59">
 &lt; <b>Prove_Constraint lambda_calculus:host:trans_eval_same.</b>

Variables: V V' Body X Ty
Trans : |{e}- tyabs X Ty Body ~~&gt; abs X Body
IsE : is_e (tyabs X Ty Body)
Ev : eval (tyabs X Ty Body) V
Ev' : eval (abs X Body) V'
============================
 V = V'
</pre>
<pre class="code extensibella"id="60">
 &lt; <b>case Ev.</b>

Variables: V' Body X Ty
Trans : |{e}- tyabs X Ty Body ~~&gt; abs X Body
IsE : is_e (tyabs X Ty Body)
Ev' : eval (abs X Body) V'
============================
 abs X Body = V'
</pre>
<pre class="code extensibella"id="61">
 &lt; <b>case Ev'.</b>

Variables: Body X Ty
Trans : |{e}- tyabs X Ty Body ~~&gt; abs X Body
IsE : is_e (tyabs X Ty Body)
============================
 abs X Body = abs X Body
</pre>
<pre class="code extensibella"id="62">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="63">
 &lt; <b>Prove_Ext_Ind lambda_calculus:host:eval.</b>

Subgoal 3:

Variables: Body X Ty
IH : forall N E V, &lt;eval {ES}&gt; E V N -&gt; acc N * -&gt; &lt;eval {T}&gt; E V
IH1 : forall N E V, &lt;eval {ES}&gt; E V N ** -&gt; acc N @ -&gt; &lt;eval {T}&gt; E V
Rel : &lt;eval {ES}&gt; (tyabs X Ty Body) (abs X Body) 1 @@
Acc : acc 1 @
============================
 &lt;eval {T}&gt; (tyabs X Ty Body) (abs X Body)
</pre>
<pre class="code extensibella"id="64">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="65">
 &lt; <b>Extensible_Theorem
      type_weakening : forall G E Ty G',
         IsE : is_e E -&gt;
         Ty : typeOf G E Ty -&gt;
         Lkp : (forall X XTy,
           lookup G X XTy -&gt; lookup G' X XTy) -&gt;
         typeOf G' E Ty
      on Ty.</b>

Subgoal 1:

Variables: G Ty G' X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e (var X)
Ty : typeOf G (var X) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : lookup G X Ty
============================
 typeOf G' (var X) Ty
</pre>
<pre class="code extensibella"id="66">
 &lt; <b>apply Lkp to Ty1.</b>

Subgoal 1:

Variables: G Ty G' X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e (var X)
Ty : typeOf G (var X) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : lookup G X Ty
H1 : lookup G' X Ty
============================
 typeOf G' (var X) Ty
</pre>
<pre class="code extensibella"id="67">
 &lt; <b>search.</b>

Subgoal 2:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e (abs X Body)
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
============================
 typeOf G' (abs X Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="68">
 &lt; <b>Is: case IsE.</b>

Subgoal 2:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
============================
 typeOf G' (abs X Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="69">
 &lt; <b>apply IH to _ Ty1 _ with
     G' = (X, Ty1)::G'.</b>

Subgoal 2.1:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
============================
 forall X1 XTy, lookup ((X, Ty1)::G) X1 XTy -&gt; lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="70">
 &lt; <b>intros L.</b>

Subgoal 2.1:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
L : lookup ((X, Ty1)::G) X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="71">
 &lt; <b>L: case L.</b>

Subgoal 2.1.1:

Variables: G G' Ty2 Body X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X1 Body) (arrowTy XTy Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X1, XTy)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
============================
 lookup ((X1, XTy)::G') X1 XTy
</pre>
<pre class="code extensibella"id="72">
 &lt; <b>search.</b>

Subgoal 2.1.2:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
L : X = X1 -&gt; false
L1 : lookup G X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="73">
 &lt; <b>apply Lkp to L1.</b>

Subgoal 2.1.2:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
L : X = X1 -&gt; false
L1 : lookup G X1 XTy
H1 : lookup G' X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="74">
 &lt; <b>search.</b>

Subgoal 2:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
H1 : typeOf ((X, Ty1)::G') Body Ty2
============================
 typeOf G' (abs X Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="75">
 &lt; <b>search.</b>

Subgoal 3:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e (tyabs X Ty1 Body)
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
============================
 typeOf G' (tyabs X Ty1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="76">
 &lt; <b>Is: case IsE.</b>

Subgoal 3:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
============================
 typeOf G' (tyabs X Ty1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="77">
 &lt; <b>apply IH to _ Ty1 _ with
     G' = (X, Ty1)::G'.</b>

Subgoal 3.1:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
============================
 forall X1 XTy, lookup ((X, Ty1)::G) X1 XTy -&gt; lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="78">
 &lt; <b>intros L.</b>

Subgoal 3.1:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
L : lookup ((X, Ty1)::G) X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="79">
 &lt; <b>L: case L.</b>

Subgoal 3.1.1:

Variables: G G' Ty2 Body X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X1 XTy Body) (arrowTy XTy Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X1, XTy)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty XTy
Is2 : is_e Body
============================
 lookup ((X1, XTy)::G') X1 XTy
</pre>
<pre class="code extensibella"id="80">
 &lt; <b>search.</b>

Subgoal 3.1.2:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
L : X = X1 -&gt; false
L1 : lookup G X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="81">
 &lt; <b>apply Lkp to L1.</b>

Subgoal 3.1.2:

Variables: G G' Ty2 Ty1 Body X X1 XTy
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
L : X = X1 -&gt; false
L1 : lookup G X1 XTy
H1 : lookup G' X1 XTy
============================
 lookup ((X, Ty1)::G') X1 XTy
</pre>
<pre class="code extensibella"id="82">
 &lt; <b>search.</b>

Subgoal 3:

Variables: G G' Ty2 Ty1 Body X
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
H1 : typeOf ((X, Ty1)::G') Body Ty2
============================
 typeOf G' (tyabs X Ty1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="83">
 &lt; <b>search.</b>

Subgoal 4:

Variables: G Ty G' Ty1 E2 E1
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e (app E1 E2)
Ty : typeOf G (app E1 E2) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf G E1 (arrowTy Ty1 Ty) *
Ty2 : typeOf G E2 Ty1 *
============================
 typeOf G' (app E1 E2) Ty
</pre>
<pre class="code extensibella"id="84">
 &lt; <b>Is: case IsE.</b>

Subgoal 4:

Variables: G Ty G' Ty1 E2 E1
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (app E1 E2) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf G E1 (arrowTy Ty1 Ty) *
Ty2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
============================
 typeOf G' (app E1 E2) Ty
</pre>
<pre class="code extensibella"id="85">
 &lt; <b>apply IH to _ Ty1 _.</b>

Subgoal 4:

Variables: G Ty G' Ty1 E2 E1
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (app E1 E2) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf G E1 (arrowTy Ty1 Ty) *
Ty2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
H1 : typeOf G' E1 (arrowTy Ty1 Ty)
============================
 typeOf G' (app E1 E2) Ty
</pre>
<pre class="code extensibella"id="86">
 &lt; <b>apply IH to _ Ty2 _.</b>

Subgoal 4:

Variables: G Ty G' Ty1 E2 E1
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
Ty : typeOf G (app E1 E2) Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : typeOf G E1 (arrowTy Ty1 Ty) *
Ty2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
H1 : typeOf G' E1 (arrowTy Ty1 Ty)
H2 : typeOf G' E2 Ty1
============================
 typeOf G' (app E1 E2) Ty
</pre>
<pre class="code extensibella"id="87">
 &lt; <b>search.</b>

Subgoal 5:

Variables: G Ty G' E_T
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e &lt;unknown e&gt;
Ty : typeOf G &lt;unknown e&gt; Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty2 : typeOf G E_T Ty *
============================
 typeOf G' &lt;unknown e&gt; Ty
</pre>
<pre class="code extensibella"id="88">
 &lt; <b>apply trans_is to Ty1 IsE.</b>

Subgoal 5:

Variables: G Ty G' E_T
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e &lt;unknown e&gt;
Ty : typeOf G &lt;unknown e&gt; Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty2 : typeOf G E_T Ty *
H1 : is_e E_T
============================
 typeOf G' &lt;unknown e&gt; Ty
</pre>
<pre class="code extensibella"id="89">
 &lt; <b>apply IH to _ Ty2 _.</b>

Subgoal 5:

Variables: G Ty G' E_T
IH : forall G E Ty G',
       is_e E -&gt; typeOf G E Ty * -&gt; (forall X XTy,
         lookup G X XTy -&gt; lookup G' X XTy) -&gt; typeOf G' E Ty
IsE : is_e &lt;unknown e&gt;
Ty : typeOf G &lt;unknown e&gt; Ty @
Lkp : forall X XTy, lookup G X XTy -&gt; lookup G' X XTy
Ty1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty2 : typeOf G E_T Ty *
H1 : is_e E_T
H2 : typeOf G' E_T Ty
============================
 typeOf G' &lt;unknown e&gt; Ty
</pre>
<pre class="code extensibella"id="90">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="91">
 &lt; <b>Theorem any_ctx :
     forall E Ty G, is_e E -&gt; typeOf [] E Ty -&gt; typeOf G E Ty.</b>

============================
 forall E Ty G, is_e E -&gt; typeOf [] E Ty -&gt; typeOf G E Ty
</pre>
<pre class="code extensibella"id="92">
 &lt; <b>intros Is Ty.</b>

Variables: E Ty G
Is : is_e E
Ty : typeOf [] E Ty
============================
 typeOf G E Ty
</pre>
<pre class="code extensibella"id="93">
 &lt; <b>backchain type_weakening to
   G = [].</b>

Variables: E Ty G
Is : is_e E
Ty : typeOf [] E Ty
============================
 forall X XTy, lookup [] X XTy -&gt; lookup G X XTy
</pre>
<pre class="code extensibella"id="94">
 &lt; <b>intros L.</b>

Variables: E Ty G X XTy
Is : is_e E
Ty : typeOf [] E Ty
L : lookup [] X XTy
============================
 lookup G X XTy
</pre>
<pre class="code extensibella"id="95">
 &lt; <b>case L.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="96">
 &lt; <b>Extensible_Theorem
      tyabs_or_not : forall E,
         IsE : is_e E -&gt;
         (exists X Ty B, E = tyabs X Ty B) \/
         ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
      on IsE.</b>

Subgoal 1:

Variables: S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (var S) @
IsE1 : is_string S
============================
 (exists X Ty B, var S = tyabs X Ty B) \/
 ((exists X Ty B, var S = tyabs X Ty B) -&gt; false)
</pre>
<pre class="code extensibella"id="97">
 &lt; <b>right.</b>

Subgoal 1:

Variables: S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (var S) @
IsE1 : is_string S
============================
 (exists X Ty B, var S = tyabs X Ty B) -&gt; false
</pre>
<pre class="code extensibella"id="98">
 &lt; <b>intros E.</b>

Subgoal 1:

Variables: S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (var S) @
IsE1 : is_string S
E : exists X Ty B, var S = tyabs X Ty B
============================
 false
</pre>
<pre class="code extensibella"id="99">
 &lt; <b>case E.</b>

Subgoal 2:

Variables: E1 S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (abs S E1) @
IsE1 : is_string S
IsE2 : is_e E1 *
============================
 (exists X Ty B, abs S E1 = tyabs X Ty B) \/
 ((exists X Ty B, abs S E1 = tyabs X Ty B) -&gt; false)
</pre>
<pre class="code extensibella"id="100">
 &lt; <b>right.</b>

Subgoal 2:

Variables: E1 S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (abs S E1) @
IsE1 : is_string S
IsE2 : is_e E1 *
============================
 (exists X Ty B, abs S E1 = tyabs X Ty B) -&gt; false
</pre>
<pre class="code extensibella"id="101">
 &lt; <b>intros E.</b>

Subgoal 2:

Variables: E1 S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (abs S E1) @
IsE1 : is_string S
IsE2 : is_e E1 *
E : exists X Ty B, abs S E1 = tyabs X Ty B
============================
 false
</pre>
<pre class="code extensibella"id="102">
 &lt; <b>case E.</b>

Subgoal 3:

Variables: E2 E1
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (app E1 E2) @
IsE1 : is_e E1 *
IsE2 : is_e E2 *
============================
 (exists X Ty B, app E1 E2 = tyabs X Ty B) \/
 ((exists X Ty B, app E1 E2 = tyabs X Ty B) -&gt; false)
</pre>
<pre class="code extensibella"id="103">
 &lt; <b>right.</b>

Subgoal 3:

Variables: E2 E1
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (app E1 E2) @
IsE1 : is_e E1 *
IsE2 : is_e E2 *
============================
 (exists X Ty B, app E1 E2 = tyabs X Ty B) -&gt; false
</pre>
<pre class="code extensibella"id="104">
 &lt; <b>intros E.</b>

Subgoal 3:

Variables: E2 E1
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (app E1 E2) @
IsE1 : is_e E1 *
IsE2 : is_e E2 *
E : exists X Ty B, app E1 E2 = tyabs X Ty B
============================
 false
</pre>
<pre class="code extensibella"id="105">
 &lt; <b>case E.</b>

Subgoal 4:

Variables: E1 Ty S
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e (tyabs S Ty E1) @
IsE1 : is_string S
IsE2 : is_ty Ty
IsE3 : is_e E1 *
============================
 (exists X Ty1 B, tyabs S Ty E1 = tyabs X Ty1 B) \/
 ((exists X Ty1 B, tyabs S Ty E1 = tyabs X Ty1 B) -&gt; false)
</pre>
<pre class="code extensibella"id="106">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Trans
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e &lt;unknown e&gt; @
IsE1 : is_e Trans *
IsE2 : |{e}- &lt;unknown e&gt; ~~&gt; Trans
============================
 (exists X Ty B, &lt;unknown e&gt; = tyabs X Ty B) \/
 ((exists X Ty B, &lt;unknown e&gt; = tyabs X Ty B) -&gt; false)
</pre>
<pre class="code extensibella"id="107">
 &lt; <b>right.</b>

Subgoal 5:

Variables: Trans
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e &lt;unknown e&gt; @
IsE1 : is_e Trans *
IsE2 : |{e}- &lt;unknown e&gt; ~~&gt; Trans
============================
 (exists X Ty B, &lt;unknown e&gt; = tyabs X Ty B) -&gt; false
</pre>
<pre class="code extensibella"id="108">
 &lt; <b>intros E.</b>

Subgoal 5:

Variables: Trans
IH : forall E,
       is_e E * -&gt; (exists X Ty B, E = tyabs X Ty B) \/
       ((exists X Ty B, E = tyabs X Ty B) -&gt; false)
IsE : is_e &lt;unknown e&gt; @
IsE1 : is_e Trans *
IsE2 : |{e}- &lt;unknown e&gt; ~~&gt; Trans
E : exists X Ty B, &lt;unknown e&gt; = tyabs X Ty B
============================
 false
</pre>
<pre class="code extensibella"id="109">
 &lt; <b>case E.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="110">
 &lt; <b>Extensible_Theorem
      subst_type_preservation : forall X R E S G TyE TyX G',
         IsE : is_e E -&gt;
         IsX : is_string X -&gt;
         IsR : is_e R -&gt;
         S : subst X R E S -&gt;
         TyE : typeOf G E TyE -&gt;
         TyR : typeOf [] R TyX -&gt;
         Lkp : lookup G X TyX -&gt;
         Slct : select (X, TyX) G' G -&gt;
         typeOf G' S TyE
      on TyE.</b>

Subgoal 1:

Variables: X R S G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
S : subst X R (var X1) S
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="111">
 &lt; <b>S: case S.</b>

Subgoal 1.1:

Variables: S G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X1
IsR : is_e S
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] S TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : lookup G X1 TyE
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="112">
 &lt; <b>apply any_ctx to _ TyR with
     G = G'.</b>

Subgoal 1.1:

Variables: S G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X1
IsR : is_e S
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] S TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : lookup G X1 TyE
H1 : typeOf G' S TyX
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="113">
 &lt; <b>apply lookup_unique to Lkp TyE1.</b>

Subgoal 1.1:

Variables: S G TyE G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X1
IsR : is_e S
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] S TyE
Lkp : lookup G X1 TyE
Slct : select (X1, TyE) G' G
TyE1 : lookup G X1 TyE
H1 : typeOf G' S TyE
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="114">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: X R G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
S : X = X1 -&gt; false
============================
 typeOf G' (var X1) TyE
</pre>
<pre class="code extensibella"id="115">
 &lt; <b>NEq: assert X1 = X -&gt; false.</b>

Subgoal 1.2.1:

Variables: X R G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
S : X = X1 -&gt; false
============================
 X1 = X -&gt; false
</pre>
<pre class="code extensibella"id="116">
 &lt; <b>intros E.</b>

Subgoal 1.2.1:

Variables: X R G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
S : X = X1 -&gt; false
E : X1 = X
============================
 false
</pre>
<pre class="code extensibella"id="117">
 &lt; <b>case E.</b>

Subgoal 1.2.1:

Variables: X R G TyE TyX G'
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X TyE
S : X = X -&gt; false
============================
 false
</pre>
<pre class="code extensibella"id="118">
 &lt; <b>backchain S.</b>

Subgoal 1.2:

Variables: X R G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
S : X = X1 -&gt; false
NEq : X1 = X -&gt; false
============================
 typeOf G' (var X1) TyE
</pre>
<pre class="code extensibella"id="119">
 &lt; <b>apply select_lookup to TyE1 Slct NEq.</b>

Subgoal 1.2:

Variables: X R G TyE TyX G' X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (var X1)
IsX : is_string X
IsR : is_e R
TyE : typeOf G (var X1) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : lookup G X1 TyE
S : X = X1 -&gt; false
NEq : X1 = X -&gt; false
H1 : lookup G' X1 TyE
============================
 typeOf G' (var X1) TyE
</pre>
<pre class="code extensibella"id="120">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X R S G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (abs X1 Body)
IsX : is_string X
IsR : is_e R
S : subst X R (abs X1 Body) S
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
============================
 typeOf G' S (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="121">
 &lt; <b>Is: case IsE.</b>

Subgoal 2:

Variables: X R S G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
S : subst X R (abs X1 Body) S
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
============================
 typeOf G' S (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="122">
 &lt; <b>S: case S.</b>

Subgoal 2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="123">
 &lt; <b>L: assert forall Z ZTy,
     lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy.</b>

Subgoal 2.1.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
============================
 forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="124">
 &lt; <b>intros L.</b>

Subgoal 2.1.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : lookup ((X1, Ty1)::G) Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="125">
 &lt; <b>L: case L.</b>

Subgoal 2.1.1.1:

Variables: R G TyX G' Ty2 Body Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string Z
IsR : is_e R
TyE : typeOf G (abs Z Body) (arrowTy ZTy Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G Z TyX
Slct : select (Z, TyX) G' G
TyE1 : typeOf ((Z, ZTy)::G) Body Ty2 *
Is : is_string Z
Is1 : is_e Body
============================
 lookup ((Z, ZTy)::G') Z ZTy
</pre>
<pre class="code extensibella"id="126">
 &lt; <b>search.</b>

Subgoal 2.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="127">
 &lt; <b>NEq: assert Z = X1 -&gt; false.</b>

Subgoal 2.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
============================
 Z = X1 -&gt; false
</pre>
<pre class="code extensibella"id="128">
 &lt; <b>intros E.</b>

Subgoal 2.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
E : Z = X1
============================
 false
</pre>
<pre class="code extensibella"id="129">
 &lt; <b>case E.</b>

Subgoal 2.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = X1 -&gt; false
L1 : lookup G X1 ZTy
============================
 false
</pre>
<pre class="code extensibella"id="130">
 &lt; <b>backchain L.</b>

Subgoal 2.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
NEq : Z = X1 -&gt; false
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="131">
 &lt; <b>apply select_lookup to L1 Slct NEq.</b>

Subgoal 2.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
NEq : Z = X1 -&gt; false
H1 : lookup G' Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="132">
 &lt; <b>search.</b>

Subgoal 2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="133">
 &lt; <b>apply type_weakening to _ TyE1 L.</b>

Subgoal 2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
L : forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
H1 : typeOf ((X1, Ty1)::G') Body Ty2
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="134">
 &lt; <b>search.</b>

Subgoal 2.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="135">
 &lt; <b>assert X1 = X -&gt; false.</b>

Subgoal 2.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 X1 = X -&gt; false
</pre>
<pre class="code extensibella"id="136">
 &lt; <b>intros E.</b>

Subgoal 2.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
E : X1 = X
============================
 false
</pre>
<pre class="code extensibella"id="137">
 &lt; <b>case E.</b>

Subgoal 2.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_e Body
S : X = X -&gt; false
S1 : subst X R Body B
============================
 false
</pre>
<pre class="code extensibella"id="138">
 &lt; <b>backchain S.</b>

Subgoal 2.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
H1 : X1 = X -&gt; false
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="139">
 &lt; <b>apply IH to _ _ _ S1 TyE1 _ _ _ with
     G' = (X1, Ty1)::G'.</b>

Subgoal 2.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (abs X1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
H1 : X1 = X -&gt; false
H2 : typeOf ((X1, Ty1)::G') B Ty2
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="140">
 &lt; <b>search.</b>

Subgoal 3:

Variables: X R S G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (tyabs X1 Ty1 Body)
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs X1 Ty1 Body) S
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
============================
 typeOf G' S (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="141">
 &lt; <b>Is: case IsE.</b>

Subgoal 3:

Variables: X R S G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
S : subst X R (tyabs X1 Ty1 Body) S
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
============================
 typeOf G' S (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="142">
 &lt; <b>S: case S.</b>

Subgoal 3.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="143">
 &lt; <b>L: assert forall Z ZTy,
     lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy.</b>

Subgoal 3.1.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
============================
 forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="144">
 &lt; <b>intros L.</b>

Subgoal 3.1.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : lookup ((X1, Ty1)::G) Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="145">
 &lt; <b>L: case L.</b>

Subgoal 3.1.1.1:

Variables: R G TyX G' Ty2 Body Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string Z
IsR : is_e R
TyE : typeOf G (tyabs Z ZTy Body) (arrowTy ZTy Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G Z TyX
Slct : select (Z, TyX) G' G
TyE1 : typeOf ((Z, ZTy)::G) Body Ty2 *
Is : is_string Z
Is1 : is_ty ZTy
Is2 : is_e Body
============================
 lookup ((Z, ZTy)::G') Z ZTy
</pre>
<pre class="code extensibella"id="146">
 &lt; <b>search.</b>

Subgoal 3.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="147">
 &lt; <b>NEq: assert Z = X1 -&gt; false.</b>

Subgoal 3.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
============================
 Z = X1 -&gt; false
</pre>
<pre class="code extensibella"id="148">
 &lt; <b>intros E.</b>

Subgoal 3.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
E : Z = X1
============================
 false
</pre>
<pre class="code extensibella"id="149">
 &lt; <b>case E.</b>

Subgoal 3.1.1.2.1:

Variables: R G TyX G' Ty2 Ty1 Body X1 ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = X1 -&gt; false
L1 : lookup G X1 ZTy
============================
 false
</pre>
<pre class="code extensibella"id="150">
 &lt; <b>backchain L.</b>

Subgoal 3.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
NEq : Z = X1 -&gt; false
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="151">
 &lt; <b>apply select_lookup to L1 Slct NEq.</b>

Subgoal 3.1.1.2:

Variables: R G TyX G' Ty2 Ty1 Body X1 Z ZTy
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : X1 = Z -&gt; false
L1 : lookup G Z ZTy
NEq : Z = X1 -&gt; false
H1 : lookup G' Z ZTy
============================
 lookup ((X1, Ty1)::G') Z ZTy
</pre>
<pre class="code extensibella"id="152">
 &lt; <b>search.</b>

Subgoal 3.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="153">
 &lt; <b>apply type_weakening to _ TyE1 L.</b>

Subgoal 3.1:

Variables: R G TyX G' Ty2 Ty1 Body X1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X1
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X1 TyX
Slct : select (X1, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
L : forall Z ZTy, lookup ((X1, Ty1)::G) Z ZTy -&gt; lookup ((X1, Ty1)::G') Z ZTy
H1 : typeOf ((X1, Ty1)::G') Body Ty2
============================
 typeOf G' (abs X1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="154">
 &lt; <b>search.</b>

Subgoal 3.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="155">
 &lt; <b>assert X1 = X -&gt; false.</b>

Subgoal 3.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
============================
 X1 = X -&gt; false
</pre>
<pre class="code extensibella"id="156">
 &lt; <b>intros E.</b>

Subgoal 3.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
E : X1 = X
============================
 false
</pre>
<pre class="code extensibella"id="157">
 &lt; <b>case E.</b>

Subgoal 3.2.1:

Variables: X R G TyX G' Ty2 Ty1 Body B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X, Ty1)::G) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X -&gt; false
S1 : subst X R Body B
============================
 false
</pre>
<pre class="code extensibella"id="158">
 &lt; <b>backchain S.</b>

Subgoal 3.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
H1 : X1 = X -&gt; false
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="159">
 &lt; <b>apply IH to _ _ _ S1 TyE1 _ _ _ with
     G' = (X1, Ty1)::G'.</b>

Subgoal 3.2:

Variables: X R G TyX G' Ty2 Ty1 Body X1 B
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (tyabs X1 Ty1 Body) (arrowTy Ty1 Ty2) @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf ((X1, Ty1)::G) Body Ty2 *
Is : is_string X1
Is1 : is_ty Ty1
Is2 : is_e Body
S : X = X1 -&gt; false
S1 : subst X R Body B
H1 : X1 = X -&gt; false
H2 : typeOf ((X1, Ty1)::G') B Ty2
============================
 typeOf G' (abs X1 B) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="160">
 &lt; <b>search.</b>

Subgoal 4:

Variables: X R S G TyE TyX G' Ty1 E2 E1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e (app E1 E2)
IsX : is_string X
IsR : is_e R
S : subst X R (app E1 E2) S
TyE : typeOf G (app E1 E2) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf G E1 (arrowTy Ty1 TyE) *
TyE2 : typeOf G E2 Ty1 *
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="161">
 &lt; <b>Is: case IsE.</b>

Subgoal 4:

Variables: X R S G TyE TyX G' Ty1 E2 E1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
S : subst X R (app E1 E2) S
TyE : typeOf G (app E1 E2) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf G E1 (arrowTy Ty1 TyE) *
TyE2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="162">
 &lt; <b>S: case S.</b>

Subgoal 4:

Variables: X R G TyE TyX G' Ty1 E2 E1 S2 S1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (app E1 E2) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf G E1 (arrowTy Ty1 TyE) *
TyE2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
S : subst X R E1 S1
S1 : subst X R E2 S2
============================
 typeOf G' (app S1 S2) TyE
</pre>
<pre class="code extensibella"id="163">
 &lt; <b>apply IH to _ _ _ S TyE1 _ _ _.</b>

Subgoal 4:

Variables: X R G TyE TyX G' Ty1 E2 E1 S2 S1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (app E1 E2) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf G E1 (arrowTy Ty1 TyE) *
TyE2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
S : subst X R E1 S1
S1 : subst X R E2 S2
H1 : typeOf G' S1 (arrowTy Ty1 TyE)
============================
 typeOf G' (app S1 S2) TyE
</pre>
<pre class="code extensibella"id="164">
 &lt; <b>apply IH to _ _ _ S1 TyE2 _ _ _.</b>

Subgoal 4:

Variables: X R G TyE TyX G' Ty1 E2 E1 S2 S1
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsX : is_string X
IsR : is_e R
TyE : typeOf G (app E1 E2) TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : typeOf G E1 (arrowTy Ty1 TyE) *
TyE2 : typeOf G E2 Ty1 *
Is : is_e E1
Is1 : is_e E2
S : subst X R E1 S1
S1 : subst X R E2 S2
H1 : typeOf G' S1 (arrowTy Ty1 TyE)
H2 : typeOf G' S2 Ty1
============================
 typeOf G' (app S1 S2) TyE
</pre>
<pre class="code extensibella"id="165">
 &lt; <b>search.</b>

Subgoal 5:

Variables: X R S G TyE TyX G' E_T
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e &lt;unknown e&gt;
IsX : is_string X
IsR : is_e R
S : subst X R &lt;unknown e&gt; S
TyE : typeOf G &lt;unknown e&gt; TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
TyE2 : typeOf G E_T TyE *
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="166">
 &lt; <b>ST: apply trans_subst to TyE1 _ _ _ S.</b>

Subgoal 5:

Variables: X R S G TyE TyX G' E_T S'
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e &lt;unknown e&gt;
IsX : is_string X
IsR : is_e R
S : subst X R &lt;unknown e&gt; S
TyE : typeOf G &lt;unknown e&gt; TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
TyE2 : typeOf G E_T TyE *
ST : subst X R E_T S'
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="167">
 &lt; <b>apply trans_is to TyE1 _.</b>

Subgoal 5:

Variables: X R S G TyE TyX G' E_T S'
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e &lt;unknown e&gt;
IsX : is_string X
IsR : is_e R
S : subst X R &lt;unknown e&gt; S
TyE : typeOf G &lt;unknown e&gt; TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
TyE2 : typeOf G E_T TyE *
ST : subst X R E_T S'
H1 : is_e E_T
============================
 typeOf G' S TyE
</pre>
<pre class="code extensibella"id="168">
 &lt; <b>apply trans_subst_same to TyE1 _ _ _ S ST.</b>

Subgoal 5:

Variables: X R G TyE TyX G' E_T S'
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e &lt;unknown e&gt;
IsX : is_string X
IsR : is_e R
S : subst X R &lt;unknown e&gt; S'
TyE : typeOf G &lt;unknown e&gt; TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
TyE2 : typeOf G E_T TyE *
ST : subst X R E_T S'
H1 : is_e E_T
============================
 typeOf G' S' TyE
</pre>
<pre class="code extensibella"id="169">
 &lt; <b>apply IH to _ _ _ ST TyE2 _ _ _.</b>

Subgoal 5:

Variables: X R G TyE TyX G' E_T S'
IH : forall X R E S G TyE TyX G',
       is_e E -&gt; is_string X -&gt; is_e R -&gt; subst X R E S -&gt; typeOf G E TyE * -&gt; typeOf [] R TyX -&gt;
       lookup G X TyX -&gt; select (X, TyX) G' G -&gt; typeOf G' S TyE
IsE : is_e &lt;unknown e&gt;
IsX : is_string X
IsR : is_e R
S : subst X R &lt;unknown e&gt; S'
TyE : typeOf G &lt;unknown e&gt; TyE @
TyR : typeOf [] R TyX
Lkp : lookup G X TyX
Slct : select (X, TyX) G' G
TyE1 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
TyE2 : typeOf G E_T TyE *
ST : subst X R E_T S'
H1 : is_e E_T
H2 : typeOf G' S' TyE
============================
 typeOf G' S' TyE
</pre>
<pre class="code extensibella"id="170">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="171">
 &lt; <b>Extensible_Theorem
      type_preservation : forall E Ty V,
         IsE : is_e E -&gt;
         Ty : typeOf [] E Ty -&gt;
         Ev : eval E V -&gt;
         typeOf [] V Ty
      on Ev.</b>

Subgoal 1:

Variables: Ty Body X
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e (abs X Body)
Ty : typeOf [] (abs X Body) Ty
Ev : eval (abs X Body) (abs X Body) @
============================
 typeOf [] (abs X Body) Ty
</pre>
<pre class="code extensibella"id="172">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e (app E1 E2)
Ty : typeOf [] (app E1 E2) Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="173">
 &lt; <b>Is: case IsE.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ty : typeOf [] (app E1 E2) Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="174">
 &lt; <b>Ty: case Ty.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="175">
 &lt; <b>AbsTy: apply IH to _ Ty Ev1.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
AbsTy : typeOf [] (abs X Body) (arrowTy Ty1 Ty)
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="176">
 &lt; <b>Ty': case AbsTy.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="177">
 &lt; <b>apply IH to _ Ty1 Ev2.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="178">
 &lt; <b>apply eval_is to _ Ev2.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="179">
 &lt; <b>IsAbs: apply eval_is to _ Ev1.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
IsAbs : is_e (abs X Body)
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="180">
 &lt; <b>case IsAbs.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
H3 : is_string X
H4 : is_e Body
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="181">
 &lt; <b>TyB: apply subst_type_preservation to _ _ _ Ev3 Ty' _ _ _.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
H3 : is_string X
H4 : is_e Body
TyB : typeOf [] B Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="182">
 &lt; <b>apply subst_is to _ _ _ Ev3.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
H3 : is_string X
H4 : is_e Body
TyB : typeOf [] B Ty
H5 : is_e B
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="183">
 &lt; <b>apply IH to _ TyB Ev4.</b>

Subgoal 2:

Variables: Ty V X Body V2 B E2 E1 Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
Ev : eval (app E1 E2) V @
Ev1 : eval E1 (abs X Body) *
Ev2 : eval E2 V2 *
Ev3 : subst X V2 Body B
Ev4 : eval B V *
Is : is_e E1
Is1 : is_e E2
Ty : typeOf [] E1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] E2 Ty1
Ty' : typeOf [(X, Ty1)] Body Ty
H1 : typeOf [] V2 Ty1
H2 : is_e V2
H3 : is_string X
H4 : is_e Body
TyB : typeOf [] B Ty
H5 : is_e B
H6 : typeOf [] V Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="184">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ty Body X Ty1
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e (tyabs X Ty1 Body)
Ty : typeOf [] (tyabs X Ty1 Body) Ty
Ev : eval (tyabs X Ty1 Body) (abs X Body) @
============================
 typeOf [] (abs X Body) Ty
</pre>
<pre class="code extensibella"id="185">
 &lt; <b>case Ty.</b>

Subgoal 3:

Variables: Body X Ty1 Ty3
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e (tyabs X Ty1 Body)
Ev : eval (tyabs X Ty1 Body) (abs X Body) @
H1 : typeOf [(X, Ty1)] Body Ty3
============================
 typeOf [] (abs X Body) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="186">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ty V Trans
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e &lt;unknown e&gt;
Ty : typeOf [] &lt;unknown e&gt; Ty
Ev : eval &lt;unknown e&gt; V @
Ev1 : eval Trans V *
Ev2 : |{e}- &lt;unknown e&gt; ~~&gt; Trans
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="187">
 &lt; <b>Ty: case Ty.</b>

Subgoal 4:

Variables: Ty V Trans E_T
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e &lt;unknown e&gt;
Ev : eval &lt;unknown e&gt; V @
Ev1 : eval Trans V *
Ev2 : |{e}- &lt;unknown e&gt; ~~&gt; Trans
Ty : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty1 : typeOf [] E_T Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="188">
 &lt; <b>apply trans_same to Ev2 Ty.</b>

Subgoal 4:

Variables: Ty V E_T
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e &lt;unknown e&gt;
Ev : eval &lt;unknown e&gt; V @
Ev1 : eval E_T V *
Ev2 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty1 : typeOf [] E_T Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="189">
 &lt; <b>apply trans_is to Ty _.</b>

Subgoal 4:

Variables: Ty V E_T
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e &lt;unknown e&gt;
Ev : eval &lt;unknown e&gt; V @
Ev1 : eval E_T V *
Ev2 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty1 : typeOf [] E_T Ty
H1 : is_e E_T
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="190">
 &lt; <b>apply IH to _ Ty1 Ev1.</b>

Subgoal 4:

Variables: Ty V E_T
IH : forall E Ty V, is_e E -&gt; typeOf [] E Ty -&gt; eval E V * -&gt; typeOf [] V Ty
IsE : is_e &lt;unknown e&gt;
Ev : eval &lt;unknown e&gt; V @
Ev1 : eval E_T V *
Ev2 : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty : |{e}- &lt;unknown e&gt; ~~&gt; E_T
Ty1 : typeOf [] E_T Ty
H1 : is_e E_T
H2 : typeOf [] V Ty
============================
 typeOf [] V Ty
</pre>
<pre class="code extensibella"id="191">
 &lt; <b>search.</b>

Proof completed.
</pre>
</div>
<div class="section">
<a class="navlink" href="../description.html">Back to example home</a>
</div>
</body>
</html>
