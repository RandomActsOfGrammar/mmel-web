<html>
<head>
<title>Extensibella:  Extensibella Example:  soundX:host - Details</title>
<link href="../../../../style.css" rel="stylesheet" type="text/css">
<script src="../../../../actions.js"></script>
<link rel="icon" href="../../../images/favicon.png" type="image/x-icon">
</head>
<body class="extensibella">
<div id="header-logo">
<a href="../../../index.html">
<img class="header-logo" src="../../../images/Extensibella.png" alt="Extensibella logo">
</a>
</div>
<h2>Reasoning Details</h2>
<div class="section">
<pre class="code extensibella">
 < <b>Module soundX:host.</b>
</pre>
<pre class="code extensibella"id="1">
 &lt; <b>Theorem lookup_ty_is :
     forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty -&gt; is_ty Ty.</b>

============================
 forall Ctx X Ty,
   is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty -&gt; is_ty Ty
</pre>
<pre class="code extensibella"id="2">
 &lt; <b>induction on 2.</b>

IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
============================
 forall Ctx X Ty,
   is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty @ -&gt; is_ty Ty
</pre>
<pre class="code extensibella"id="3">
 &lt; <b>intros Is L.</b>

Variables: Ctx X Ty
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
Is : is_list (is_pair is_string is_ty) Ctx
L : lookup Ctx X Ty @
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="4">
 &lt; <b>L: case L.</b>

Subgoal 1:

Variables: X Ty Rest
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
Is : is_list (is_pair is_string is_ty) ((X, Ty)::Rest)
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="5">
 &lt; <b>Is: case Is.</b>

Subgoal 1:

Variables: X Ty Rest
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
Is : is_pair is_string is_ty (X, Ty)
Is1 : is_list (is_pair is_string is_ty) Rest
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="6">
 &lt; <b>case Is.</b>

Subgoal 1:

Variables: X Ty Rest
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
Is1 : is_list (is_pair is_string is_ty) Rest
H1 : is_string X
H2 : is_ty Ty
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="7">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X Ty Rest V K
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
Is : is_list (is_pair is_string is_ty) ((K, V)::Rest)
L : K = X -&gt; false
L1 : lookup Rest X Ty *
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="8">
 &lt; <b>Is: case Is.</b>

Subgoal 2:

Variables: X Ty Rest V K
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
L : K = X -&gt; false
L1 : lookup Rest X Ty *
Is : is_pair is_string is_ty (K, V)
Is1 : is_list (is_pair is_string is_ty) Rest
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="9">
 &lt; <b>apply IH to _ L1.</b>

Subgoal 2:

Variables: X Ty Rest V K
IH : forall Ctx X Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; lookup Ctx X Ty * -&gt; is_ty Ty
L : K = X -&gt; false
L1 : lookup Rest X Ty *
Is : is_pair is_string is_ty (K, V)
Is1 : is_list (is_pair is_string is_ty) Rest
H1 : is_ty Ty
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="10">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="11">
 &lt; <b>Projection_Constraint proj_ty_is :
   forall Ty Ty',
   Proj : |{ty}- Ty ~~&gt; Ty' -&gt;
   IsTy : is_ty Ty -&gt;
   is_ty Ty'.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="12">
 &lt; <b>Extensible_Theorem
      type_is : forall Ctx T Ty,
         IsCtx : is_list (is_pair is_string is_ty) Ctx -&gt;
         IsT : is_tm T -&gt;
         Ty : typeOf Ctx T Ty -&gt;
         is_ty Ty
      on Ty.</b>

Subgoal 1:

Variables: Ctx Ty X
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
Ty : typeOf Ctx (var X) Ty @
Ty1 : lookup Ctx X Ty
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="13">
 &lt; <b>apply lookup_ty_is to _ Ty1.</b>

Subgoal 1:

Variables: Ctx Ty X
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
Ty : typeOf Ctx (var X) Ty @
Ty1 : lookup Ctx X Ty
H1 : is_ty Ty
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="14">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx Ty2 Ty1 Body X
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty1 Body)
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
============================
 is_ty (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="15">
 &lt; <b>Is: case IsT.</b>

Subgoal 2:

Variables: Ctx Ty2 Ty1 Body X
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_tm Body
============================
 is_ty (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="16">
 &lt; <b>apply IH to _ _ Ty1.</b>

Subgoal 2:

Variables: Ctx Ty2 Ty1 Body X
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
Is : is_string X
Is1 : is_ty Ty1
Is2 : is_tm Body
H1 : is_ty Ty2
============================
 is_ty (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="17">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ctx Ty Ty1 T2 T1
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app T1 T2)
Ty : typeOf Ctx (app T1 T2) Ty @
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="18">
 &lt; <b>Is: case IsT.</b>

Subgoal 3:

Variables: Ctx Ty Ty1 T2 T1
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="19">
 &lt; <b>IsTy: apply IH to _ _ Ty1.</b>

Subgoal 3:

Variables: Ctx Ty Ty1 T2 T1
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
Is : is_tm T1
Is1 : is_tm T2
IsTy : is_ty (arrowTy Ty1 Ty)
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="20">
 &lt; <b>case IsTy.</b>

Subgoal 3:

Variables: Ctx Ty Ty1 T2 T1
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_ty Ty1
H2 : is_ty Ty
============================
 is_ty Ty
</pre>
<pre class="code extensibella"id="21">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx I
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
Ty : typeOf Ctx (num I) intTy @
============================
 is_ty intTy
</pre>
<pre class="code extensibella"id="22">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ctx T2 T1
IH : forall Ctx T Ty,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T Ty * -&gt; is_ty Ty
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus T1 T2)
Ty : typeOf Ctx (plus T1 T2) intTy @
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
============================
 is_ty intTy
</pre>
<pre class="code extensibella"id="23">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="24">
 &lt; <b>Projection_Constraint proj_is :
   forall Ctx T T',
   Proj : Ctx |{tm}- T ~~&gt; T' -&gt;
   IsCtx : is_list (is_pair is_string is_ty) Ctx -&gt;
   IsT : is_tm T -&gt;
   is_tm T'.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="25">
 &lt; <b>Extensible_Theorem
      type_unique : forall Ctx T TyA TyB,
         IsCtx : is_list (is_pair is_string is_ty) Ctx -&gt;
         IsT : is_tm T -&gt;
         TyA : typeOf Ctx T TyA -&gt;
         TyB : typeOf Ctx T TyB -&gt;
         TyA = TyB
      on TyA.</b>

Subgoal 1:

Variables: Ctx TyA TyB X
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
TyA : typeOf Ctx (var X) TyA @
TyB : typeOf Ctx (var X) TyB
TyA1 : lookup Ctx X TyA
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="26">
 &lt; <b>TyB: case TyB.</b>

Subgoal 1:

Variables: Ctx TyA TyB X
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
TyA : typeOf Ctx (var X) TyA @
TyA1 : lookup Ctx X TyA
TyB : lookup Ctx X TyB
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="27">
 &lt; <b>apply lookup_unique to TyA1 TyB.</b>

Subgoal 1:

Variables: Ctx TyB X
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
TyA : typeOf Ctx (var X) TyB @
TyA1 : lookup Ctx X TyB
TyB : lookup Ctx X TyB
============================
 TyB = TyB
</pre>
<pre class="code extensibella"id="28">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx TyB Ty2 Ty1 Body X
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty1 Body)
TyA : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
TyB : typeOf Ctx (abs X Ty1 Body) TyB
TyA1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
============================
 arrowTy Ty1 Ty2 = TyB
</pre>
<pre class="code extensibella"id="29">
 &lt; <b>case IsT.</b>

Subgoal 2:

Variables: Ctx TyB Ty2 Ty1 Body X
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
TyB : typeOf Ctx (abs X Ty1 Body) TyB
TyA1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
============================
 arrowTy Ty1 Ty2 = TyB
</pre>
<pre class="code extensibella"id="30">
 &lt; <b>TyB: case TyB.</b>

Subgoal 2:

Variables: Ctx Ty2 Ty1 Body X Ty4
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
TyA1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
TyB : typeOf ((X, Ty1)::Ctx) Body Ty4
============================
 arrowTy Ty1 Ty2 = arrowTy Ty1 Ty4
</pre>
<pre class="code extensibella"id="31">
 &lt; <b>apply IH to _ _ TyA1 TyB.</b>

Subgoal 2:

Variables: Ctx Ty1 Body X Ty4
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty4) @
TyA1 : typeOf ((X, Ty1)::Ctx) Body Ty4 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
TyB : typeOf ((X, Ty1)::Ctx) Body Ty4
============================
 arrowTy Ty1 Ty4 = arrowTy Ty1 Ty4
</pre>
<pre class="code extensibella"id="32">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ctx TyA TyB Ty1 T2 T1
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app T1 T2)
TyA : typeOf Ctx (app T1 T2) TyA @
TyB : typeOf Ctx (app T1 T2) TyB
TyA1 : typeOf Ctx T1 (arrowTy Ty1 TyA) *
TyA2 : typeOf Ctx T2 Ty1 *
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="33">
 &lt; <b>case IsT.</b>

Subgoal 3:

Variables: Ctx TyA TyB Ty1 T2 T1
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (app T1 T2) TyA @
TyB : typeOf Ctx (app T1 T2) TyB
TyA1 : typeOf Ctx T1 (arrowTy Ty1 TyA) *
TyA2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="34">
 &lt; <b>TyB: case TyB.</b>

Subgoal 3:

Variables: Ctx TyA TyB Ty1 T2 T1 Ty2
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (app T1 T2) TyA @
TyA1 : typeOf Ctx T1 (arrowTy Ty1 TyA) *
TyA2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
TyB : typeOf Ctx T1 (arrowTy Ty2 TyB)
TyB1 : typeOf Ctx T2 Ty2
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="35">
 &lt; <b>apply IH to _ _ TyA1 TyB.</b>

Subgoal 3:

Variables: Ctx TyB T2 T1 Ty2
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (app T1 T2) TyB @
TyA1 : typeOf Ctx T1 (arrowTy Ty2 TyB) *
TyA2 : typeOf Ctx T2 Ty2 *
H1 : is_tm T1
H2 : is_tm T2
TyB : typeOf Ctx T1 (arrowTy Ty2 TyB)
TyB1 : typeOf Ctx T2 Ty2
============================
 TyB = TyB
</pre>
<pre class="code extensibella"id="36">
 &lt; <b>apply IH to _ _ TyA2 TyB1.</b>

Subgoal 3:

Variables: Ctx TyB T2 T1 Ty2
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
TyA : typeOf Ctx (app T1 T2) TyB @
TyA1 : typeOf Ctx T1 (arrowTy Ty2 TyB) *
TyA2 : typeOf Ctx T2 Ty2 *
H1 : is_tm T1
H2 : is_tm T2
TyB : typeOf Ctx T1 (arrowTy Ty2 TyB)
TyB1 : typeOf Ctx T2 Ty2
============================
 TyB = TyB
</pre>
<pre class="code extensibella"id="37">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx TyB I
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
TyA : typeOf Ctx (num I) intTy @
TyB : typeOf Ctx (num I) TyB
============================
 intTy = TyB
</pre>
<pre class="code extensibella"id="38">
 &lt; <b>case TyB.</b>

Subgoal 4:

Variables: Ctx I
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
TyA : typeOf Ctx (num I) intTy @
============================
 intTy = intTy
</pre>
<pre class="code extensibella"id="39">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ctx TyB T2 T1
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus T1 T2)
TyA : typeOf Ctx (plus T1 T2) intTy @
TyB : typeOf Ctx (plus T1 T2) TyB
TyA1 : typeOf Ctx T1 intTy *
TyA2 : typeOf Ctx T2 intTy *
============================
 intTy = TyB
</pre>
<pre class="code extensibella"id="40">
 &lt; <b>case TyB.</b>

Subgoal 5:

Variables: Ctx T2 T1
IH : forall Ctx T TyA TyB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; typeOf Ctx T TyA * -&gt;
       typeOf Ctx T TyB -&gt; TyA = TyB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus T1 T2)
TyA : typeOf Ctx (plus T1 T2) intTy @
TyA1 : typeOf Ctx T1 intTy *
TyA2 : typeOf Ctx T2 intTy *
H1 : typeOf Ctx T1 intTy
H2 : typeOf Ctx T2 intTy
============================
 intTy = intTy
</pre>
<pre class="code extensibella"id="41">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="42">
 &lt; <b>Extensible_Theorem
      ty_lookup : forall Ctx1 Ctx2 T Ty,
         Ty : typeOf Ctx1 T Ty -&gt;
         L : (forall X XTy,
           lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt;
         typeOf Ctx2 T Ty
      on Ty.</b>

Subgoal 1:

Variables: Ctx1 Ctx2 Ty X
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (var X) Ty @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : lookup Ctx1 X Ty
============================
 typeOf Ctx2 (var X) Ty
</pre>
<pre class="code extensibella"id="43">
 &lt; <b>apply L to Ty1.</b>

Subgoal 1:

Variables: Ctx1 Ctx2 Ty X
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (var X) Ty @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : lookup Ctx1 X Ty
H1 : lookup Ctx2 X Ty
============================
 typeOf Ctx2 (var X) Ty
</pre>
<pre class="code extensibella"id="44">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
============================
 typeOf Ctx2 (abs X Ty1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="45">
 &lt; <b>apply IH to Ty1 _ with
     Ctx2 = (X, Ty1)::Ctx2.</b>

Subgoal 2.1:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
============================
 forall X1 XTy, lookup ((X, Ty1)::Ctx1) X1 XTy -&gt; lookup ((X, Ty1)::Ctx2) X1 XTy
</pre>
<pre class="code extensibella"id="46">
 &lt; <b>intros LkpX.</b>

Subgoal 2.1:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X X1 XTy
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
LkpX : lookup ((X, Ty1)::Ctx1) X1 XTy
============================
 lookup ((X, Ty1)::Ctx2) X1 XTy
</pre>
<pre class="code extensibella"id="47">
 &lt; <b>LkpX: case LkpX.</b>

Subgoal 2.1.1:

Variables: Ctx1 Ctx2 Ty2 Body X1 XTy
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X1 XTy Body) (arrowTy XTy Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X1, XTy)::Ctx1) Body Ty2 *
============================
 lookup ((X1, XTy)::Ctx2) X1 XTy
</pre>
<pre class="code extensibella"id="48">
 &lt; <b>search.</b>

Subgoal 2.1.2:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X X1 XTy
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
LkpX : X = X1 -&gt; false
LkpX1 : lookup Ctx1 X1 XTy
============================
 lookup ((X, Ty1)::Ctx2) X1 XTy
</pre>
<pre class="code extensibella"id="49">
 &lt; <b>apply L to LkpX1.</b>

Subgoal 2.1.2:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X X1 XTy
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
LkpX : X = X1 -&gt; false
LkpX1 : lookup Ctx1 X1 XTy
H1 : lookup Ctx2 X1 XTy
============================
 lookup ((X, Ty1)::Ctx2) X1 XTy
</pre>
<pre class="code extensibella"id="50">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx1 Ctx2 Ty2 Ty1 Body X
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf ((X, Ty1)::Ctx1) Body Ty2 *
H1 : typeOf ((X, Ty1)::Ctx2) Body Ty2
============================
 typeOf Ctx2 (abs X Ty1 Body) (arrowTy Ty1 Ty2)
</pre>
<pre class="code extensibella"id="51">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ctx1 Ctx2 Ty Ty1 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (app T1 T2) Ty @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx1 T2 Ty1 *
============================
 typeOf Ctx2 (app T1 T2) Ty
</pre>
<pre class="code extensibella"id="52">
 &lt; <b>apply IH to Ty1 L.</b>

Subgoal 3:

Variables: Ctx1 Ctx2 Ty Ty1 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (app T1 T2) Ty @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx1 T2 Ty1 *
H1 : typeOf Ctx2 T1 (arrowTy Ty1 Ty)
============================
 typeOf Ctx2 (app T1 T2) Ty
</pre>
<pre class="code extensibella"id="53">
 &lt; <b>apply IH to Ty2 L.</b>

Subgoal 3:

Variables: Ctx1 Ctx2 Ty Ty1 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (app T1 T2) Ty @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx1 T2 Ty1 *
H1 : typeOf Ctx2 T1 (arrowTy Ty1 Ty)
H2 : typeOf Ctx2 T2 Ty1
============================
 typeOf Ctx2 (app T1 T2) Ty
</pre>
<pre class="code extensibella"id="54">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx1 Ctx2 I
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (num I) intTy @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
============================
 typeOf Ctx2 (num I) intTy
</pre>
<pre class="code extensibella"id="55">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ctx1 Ctx2 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (plus T1 T2) intTy @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 intTy *
Ty2 : typeOf Ctx1 T2 intTy *
============================
 typeOf Ctx2 (plus T1 T2) intTy
</pre>
<pre class="code extensibella"id="56">
 &lt; <b>apply IH to Ty1 L.</b>

Subgoal 5:

Variables: Ctx1 Ctx2 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (plus T1 T2) intTy @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 intTy *
Ty2 : typeOf Ctx1 T2 intTy *
H1 : typeOf Ctx2 T1 intTy
============================
 typeOf Ctx2 (plus T1 T2) intTy
</pre>
<pre class="code extensibella"id="57">
 &lt; <b>apply IH to Ty2 L.</b>

Subgoal 5:

Variables: Ctx1 Ctx2 T2 T1
IH : forall Ctx1 Ctx2 T Ty,
       typeOf Ctx1 T Ty * -&gt; (forall X XTy,
         lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy) -&gt; typeOf Ctx2 T Ty
Ty : typeOf Ctx1 (plus T1 T2) intTy @
L : forall X XTy, lookup Ctx1 X XTy -&gt; lookup Ctx2 X XTy
Ty1 : typeOf Ctx1 T1 intTy *
Ty2 : typeOf Ctx1 T2 intTy *
H1 : typeOf Ctx2 T1 intTy
H2 : typeOf Ctx2 T2 intTy
============================
 typeOf Ctx2 (plus T1 T2) intTy
</pre>
<pre class="code extensibella"id="58">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="59">
 &lt; <b>Theorem empty_ty_any :
     forall T Ty Ctx, typeOf [] T Ty -&gt; typeOf Ctx T Ty.</b>

============================
 forall T Ty Ctx, typeOf [] T Ty -&gt; typeOf Ctx T Ty
</pre>
<pre class="code extensibella"id="60">
 &lt; <b>intros T.</b>

Variables: T Ty Ctx
T : typeOf [] T Ty
============================
 typeOf Ctx T Ty
</pre>
<pre class="code extensibella"id="61">
 &lt; <b>backchain ty_lookup.</b>

Variables: T Ty Ctx
T : typeOf [] T Ty
============================
 forall X XTy, lookup [] X XTy -&gt; lookup Ctx X XTy
</pre>
<pre class="code extensibella"id="62">
 &lt; <b>intros L.</b>

Variables: T Ty Ctx X XTy
T : typeOf [] T Ty
L : lookup [] X XTy
============================
 lookup Ctx X XTy
</pre>
<pre class="code extensibella"id="63">
 &lt; <b>case L.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="64">
 &lt; <b>Projection_Constraint proj_ty_unique :
   forall Ty TyA TyB,
   |{ty}- Ty ~~&gt; TyA -&gt; |{ty}- Ty ~~&gt; TyB -&gt; is_ty Ty -&gt; TyA = TyB.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="65">
 &lt; <b>Projection_Constraint proj_tm_unique :
   forall Ctx T TA TB,
   Ctx |{tm}- T ~~&gt; TA -&gt; Ctx |{tm}- T ~~&gt; TB -&gt; is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt;
   TA = TB.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="66">
 &lt; <b>Theorem lookup_desugar_ctx :
     forall Ctx X Ty Ctx',
       lookup Ctx X Ty -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'.</b>

============================
 forall Ctx X Ty Ctx',
   lookup Ctx X Ty -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
     lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="67">
 &lt; <b>induction on 1.</b>

IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
============================
 forall Ctx X Ty Ctx',
   lookup Ctx X Ty @ -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
     lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="68">
 &lt; <b>intros L D.</b>

Variables: Ctx X Ty Ctx'
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
L : lookup Ctx X Ty @
D : desugar_ctx Ctx Ctx'
============================
 exists Ty', lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="69">
 &lt; <b>L: case L.</b>

Subgoal 1:

Variables: X Ty Ctx' Rest
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
D : desugar_ctx ((X, Ty)::Rest) Ctx'
============================
 exists Ty', lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="70">
 &lt; <b>case D.</b>

Subgoal 1:

Variables: X Ty Rest DRest DTy
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
H1 : desugar_ty Ty DTy
H2 : desugar_ctx Rest DRest
============================
 exists Ty', lookup ((X, DTy)::DRest) X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="71">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X Ty Ctx' Rest V K
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
D : desugar_ctx ((K, V)::Rest) Ctx'
L : K = X -&gt; false
L1 : lookup Rest X Ty *
============================
 exists Ty', lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="72">
 &lt; <b>D: case D.</b>

Subgoal 2:

Variables: X Ty Rest V K DRest DTy
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
L : K = X -&gt; false
L1 : lookup Rest X Ty *
D : desugar_ty V DTy
D1 : desugar_ctx Rest DRest
============================
 exists Ty', lookup ((K, DTy)::DRest) X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="73">
 &lt; <b>apply IH to L1 D1.</b>

Subgoal 2:

Variables: X Ty Rest V K DRest DTy Ty'
IH : forall Ctx X Ty Ctx',
       lookup Ctx X Ty * -&gt; desugar_ctx Ctx Ctx' -&gt; exists Ty',
         lookup Ctx' X Ty' /\ desugar_ty Ty Ty'
L : K = X -&gt; false
L1 : lookup Rest X Ty *
D : desugar_ty V DTy
D1 : desugar_ctx Rest DRest
H1 : lookup DRest X Ty'
H2 : desugar_ty Ty Ty'
============================
 exists Ty', lookup ((K, DTy)::DRest) X Ty' /\ desugar_ty Ty Ty'
</pre>
<pre class="code extensibella"id="74">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="75">
 &lt; <b>Theorem desugar_ty_unique :
     forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA -&gt; desugar_ty Ty TyB -&gt; TyA = TyB.</b>

============================
 forall Ty TyA TyB,
   is_ty Ty -&gt; desugar_ty Ty TyA -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
</pre>
<pre class="code extensibella"id="76">
 &lt; <b>induction on 2.</b>

IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
============================
 forall Ty TyA TyB,
   is_ty Ty -&gt; desugar_ty Ty TyA @ -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
</pre>
<pre class="code extensibella"id="77">
 &lt; <b>intros IsTy DA DB.</b>

Variables: Ty TyA TyB
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DA : desugar_ty Ty TyA @
DB : desugar_ty Ty TyB
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="78">
 &lt; <b>DA: case DA.</b>

Subgoal 1:

Variables: TyB DB DA B A
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty (arrowTy A B)
DB : desugar_ty (arrowTy A B) TyB
DA : desugar_ty A DA *
DA1 : desugar_ty B DB *
============================
 arrowTy DA DB = TyB
</pre>
<pre class="code extensibella"id="79">
 &lt; <b>DB: case DB.</b>

Subgoal 1.1:

Variables: DB DA B A DB1 DA1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty (arrowTy A B)
DA : desugar_ty A DA *
DA1 : desugar_ty B DB *
DB : desugar_ty A DA1
DB1 : desugar_ty B DB1
============================
 arrowTy DA DB = arrowTy DA1 DB1
</pre>
<pre class="code extensibella"id="80">
 &lt; <b>case IsTy.</b>

Subgoal 1.1:

Variables: DB DA B A DB1 DA1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
DA : desugar_ty A DA *
DA1 : desugar_ty B DB *
DB : desugar_ty A DA1
DB1 : desugar_ty B DB1
H1 : is_ty A
H2 : is_ty B
============================
 arrowTy DA DB = arrowTy DA1 DB1
</pre>
<pre class="code extensibella"id="81">
 &lt; <b>apply IH to _ DA DB.</b>

Subgoal 1.1:

Variables: DB B A DB1 DA1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
DA : desugar_ty A DA1 *
DA1 : desugar_ty B DB *
DB : desugar_ty A DA1
DB1 : desugar_ty B DB1
H1 : is_ty A
H2 : is_ty B
============================
 arrowTy DA1 DB = arrowTy DA1 DB1
</pre>
<pre class="code extensibella"id="82">
 &lt; <b>apply IH to _ DA1 DB1.</b>

Subgoal 1.1:

Variables: B A DB1 DA1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
DA : desugar_ty A DA1 *
DA1 : desugar_ty B DB1 *
DB : desugar_ty A DA1
DB1 : desugar_ty B DB1
H1 : is_ty A
H2 : is_ty B
============================
 arrowTy DA1 DB1 = arrowTy DA1 DB1
</pre>
<pre class="code extensibella"id="83">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: TyB DB DA B A Ty_P
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty (arrowTy A B)
DA : desugar_ty A DA *
DA1 : desugar_ty B DB *
DB : |{ty}- arrowTy A B ~~&gt; Ty_P
DB1 : desugar_ty Ty_P TyB
============================
 arrowTy DA DB = TyB
</pre>
<pre class="code extensibella"id="84">
 &lt; <b>case DB.</b>

Subgoal 2:

Variables: TyB
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty intTy
DB : desugar_ty intTy TyB
============================
 intTy = TyB
</pre>
<pre class="code extensibella"id="85">
 &lt; <b>DB: case DB.</b>

Subgoal 2.1:

IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty intTy
============================
 intTy = intTy
</pre>
<pre class="code extensibella"id="86">
 &lt; <b>search.</b>

Subgoal 2.2:

Variables: TyB Ty_P
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty intTy
DB : |{ty}- intTy ~~&gt; Ty_P
DB1 : desugar_ty Ty_P TyB
============================
 intTy = TyB
</pre>
<pre class="code extensibella"id="87">
 &lt; <b>case DB.</b>

Subgoal 3:

Variables: Ty TyA TyB Ty_P
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DB : desugar_ty Ty TyB
DA : |{ty}- Ty ~~&gt; Ty_P
DA1 : desugar_ty Ty_P TyA *
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="88">
 &lt; <b>DB: case DB.</b>

Subgoal 3.1:

Variables: TyA Ty_P DB DA B A
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty (arrowTy A B)
DA : |{ty}- arrowTy A B ~~&gt; Ty_P
DA1 : desugar_ty Ty_P TyA *
DB : desugar_ty A DA
DB1 : desugar_ty B DB
============================
 TyA = arrowTy DA DB
</pre>
<pre class="code extensibella"id="89">
 &lt; <b>case DA.</b>

Subgoal 3.2:

Variables: TyA Ty_P
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty intTy
DA : |{ty}- intTy ~~&gt; Ty_P
DA1 : desugar_ty Ty_P TyA *
============================
 TyA = intTy
</pre>
<pre class="code extensibella"id="90">
 &lt; <b>case DA.</b>

Subgoal 3.3:

Variables: Ty TyA TyB Ty_P Ty_P1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DA : |{ty}- Ty ~~&gt; Ty_P
DA1 : desugar_ty Ty_P TyA *
DB : |{ty}- Ty ~~&gt; Ty_P1
DB1 : desugar_ty Ty_P1 TyB
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="91">
 &lt; <b>apply proj_ty_unique to DA DB _.</b>

Subgoal 3.3:

Variables: Ty TyA TyB Ty_P1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DA : |{ty}- Ty ~~&gt; Ty_P1
DA1 : desugar_ty Ty_P1 TyA *
DB : |{ty}- Ty ~~&gt; Ty_P1
DB1 : desugar_ty Ty_P1 TyB
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="92">
 &lt; <b>apply proj_ty_is to DA _.</b>

Subgoal 3.3:

Variables: Ty TyA TyB Ty_P1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DA : |{ty}- Ty ~~&gt; Ty_P1
DA1 : desugar_ty Ty_P1 TyA *
DB : |{ty}- Ty ~~&gt; Ty_P1
DB1 : desugar_ty Ty_P1 TyB
H1 : is_ty Ty_P1
============================
 TyA = TyB
</pre>
<pre class="code extensibella"id="93">
 &lt; <b>apply IH to _ DA1 DB1.</b>

Subgoal 3.3:

Variables: Ty TyB Ty_P1
IH : forall Ty TyA TyB,
       is_ty Ty -&gt; desugar_ty Ty TyA * -&gt; desugar_ty Ty TyB -&gt; TyA = TyB
IsTy : is_ty Ty
DA : |{ty}- Ty ~~&gt; Ty_P1
DA1 : desugar_ty Ty_P1 TyB *
DB : |{ty}- Ty ~~&gt; Ty_P1
DB1 : desugar_ty Ty_P1 TyB
H1 : is_ty Ty_P1
============================
 TyB = TyB
</pre>
<pre class="code extensibella"id="94">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="95">
 &lt; <b>Theorem desugar_tm_unique :
     forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB.</b>

============================
 forall Ctx T TA TB,
   is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA -&gt; desugar_tm Ctx T TB -&gt;
   TA = TB
</pre>
<pre class="code extensibella"id="96">
 &lt; <b>induction on 3.</b>

IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
============================
 forall Ctx T TA TB,
   is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA @ -&gt; desugar_tm Ctx T TB -&gt;
   TA = TB
</pre>
<pre class="code extensibella"id="97">
 &lt; <b>intros IsCtx IsT DA DB.</b>

Variables: Ctx T TA TB
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DA : desugar_tm Ctx T TA @
DB : desugar_tm Ctx T TB
============================
 TA = TB
</pre>
<pre class="code extensibella"id="98">
 &lt; <b>DA: case DA.</b>

Subgoal 1:

Variables: Ctx TB X
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
DB : desugar_tm Ctx (var X) TB
============================
 var X = TB
</pre>
<pre class="code extensibella"id="99">
 &lt; <b>DB: case DB.</b>

Subgoal 1.1:

Variables: Ctx X
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
============================
 var X = var X
</pre>
<pre class="code extensibella"id="100">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: Ctx TB X T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
DB : Ctx |{tm}- var X ~~&gt; T_P
DB1 : desugar_tm Ctx T_P TB
============================
 var X = TB
</pre>
<pre class="code extensibella"id="101">
 &lt; <b>case DB.</b>

Subgoal 2:

Variables: Ctx TB DTm DTy X Tm Ty
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty Tm)
DB : desugar_tm Ctx (abs X Ty Tm) TB
DA : desugar_ty Ty DTy
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
============================
 abs X DTy DTm = TB
</pre>
<pre class="code extensibella"id="102">
 &lt; <b>DB: case DB.</b>

Subgoal 2.1:

Variables: Ctx DTm DTy X Tm Ty DTm1 DTy1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty Tm)
DA : desugar_ty Ty DTy
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
DB : desugar_ty Ty DTy1
DB1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1
============================
 abs X DTy DTm = abs X DTy1 DTm1
</pre>
<pre class="code extensibella"id="103">
 &lt; <b>case IsT.</b>

Subgoal 2.1:

Variables: Ctx DTm DTy X Tm Ty DTm1 DTy1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_ty Ty DTy
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
DB : desugar_ty Ty DTy1
DB1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
============================
 abs X DTy DTm = abs X DTy1 DTm1
</pre>
<pre class="code extensibella"id="104">
 &lt; <b>apply IH to _ _ DA1 DB1.</b>

Subgoal 2.1:

Variables: Ctx DTy X Tm Ty DTm1 DTy1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_ty Ty DTy
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1 *
DB : desugar_ty Ty DTy1
DB1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
============================
 abs X DTy DTm1 = abs X DTy1 DTm1
</pre>
<pre class="code extensibella"id="105">
 &lt; <b>apply desugar_ty_unique to _ DA DB.</b>

Subgoal 2.1:

Variables: Ctx X Tm Ty DTm1 DTy1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_ty Ty DTy1
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1 *
DB : desugar_ty Ty DTy1
DB1 : desugar_tm ((X, Ty)::Ctx) Tm DTm1
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
============================
 abs X DTy1 DTm1 = abs X DTy1 DTm1
</pre>
<pre class="code extensibella"id="106">
 &lt; <b>search.</b>

Subgoal 2.2:

Variables: Ctx TB DTm DTy X Tm Ty T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty Tm)
DA : desugar_ty Ty DTy
DA1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
DB : Ctx |{tm}- abs X Ty Tm ~~&gt; T_P
DB1 : desugar_tm Ctx T_P TB
============================
 abs X DTy DTm = TB
</pre>
<pre class="code extensibella"id="107">
 &lt; <b>case DB.</b>

Subgoal 3:

Variables: Ctx TB DB DA B A
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app A B)
DB : desugar_tm Ctx (app A B) TB
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
============================
 app DA DB = TB
</pre>
<pre class="code extensibella"id="108">
 &lt; <b>DB: case DB.</b>

Subgoal 3.1:

Variables: Ctx DB DA B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app A B)
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
============================
 app DA DB = app DA1 DB1
</pre>
<pre class="code extensibella"id="109">
 &lt; <b>case IsT.</b>

Subgoal 3.1:

Variables: Ctx DB DA B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 app DA DB = app DA1 DB1
</pre>
<pre class="code extensibella"id="110">
 &lt; <b>apply IH to _ _ DA DB.</b>

Subgoal 3.1:

Variables: Ctx DB B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA1 *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 app DA1 DB = app DA1 DB1
</pre>
<pre class="code extensibella"id="111">
 &lt; <b>apply IH to _ _ DA1 DB1.</b>

Subgoal 3.1:

Variables: Ctx B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA1 *
DA1 : desugar_tm Ctx B DB1 *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 app DA1 DB1 = app DA1 DB1
</pre>
<pre class="code extensibella"id="112">
 &lt; <b>search.</b>

Subgoal 3.2:

Variables: Ctx TB DB DA B A T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app A B)
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : Ctx |{tm}- app A B ~~&gt; T_P
DB1 : desugar_tm Ctx T_P TB
============================
 app DA DB = TB
</pre>
<pre class="code extensibella"id="113">
 &lt; <b>case DB.</b>

Subgoal 4:

Variables: Ctx TB I
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
DB : desugar_tm Ctx (num I) TB
============================
 num I = TB
</pre>
<pre class="code extensibella"id="114">
 &lt; <b>DB: case DB.</b>

Subgoal 4.1:

Variables: Ctx I
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
============================
 num I = num I
</pre>
<pre class="code extensibella"id="115">
 &lt; <b>search.</b>

Subgoal 4.2:

Variables: Ctx TB I T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
DB : Ctx |{tm}- num I ~~&gt; T_P
DB1 : desugar_tm Ctx T_P TB
============================
 num I = TB
</pre>
<pre class="code extensibella"id="116">
 &lt; <b>case DB.</b>

Subgoal 5:

Variables: Ctx TB DB DA B A
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus A B)
DB : desugar_tm Ctx (plus A B) TB
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
============================
 plus DA DB = TB
</pre>
<pre class="code extensibella"id="117">
 &lt; <b>DB: case DB.</b>

Subgoal 5.1:

Variables: Ctx DB DA B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus A B)
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
============================
 plus DA DB = plus DA1 DB1
</pre>
<pre class="code extensibella"id="118">
 &lt; <b>case IsT.</b>

Subgoal 5.1:

Variables: Ctx DB DA B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 plus DA DB = plus DA1 DB1
</pre>
<pre class="code extensibella"id="119">
 &lt; <b>apply IH to _ _ DA DB.</b>

Subgoal 5.1:

Variables: Ctx DB B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA1 *
DA1 : desugar_tm Ctx B DB *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 plus DA1 DB = plus DA1 DB1
</pre>
<pre class="code extensibella"id="120">
 &lt; <b>apply IH to _ _ DA1 DB1.</b>

Subgoal 5.1:

Variables: Ctx B A DB1 DA1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
DA : desugar_tm Ctx A DA1 *
DA1 : desugar_tm Ctx B DB1 *
DB : desugar_tm Ctx A DA1
DB1 : desugar_tm Ctx B DB1
H1 : is_tm A
H2 : is_tm B
============================
 plus DA1 DB1 = plus DA1 DB1
</pre>
<pre class="code extensibella"id="121">
 &lt; <b>search.</b>

Subgoal 5.2:

Variables: Ctx TB DB DA B A T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus A B)
DA : desugar_tm Ctx A DA *
DA1 : desugar_tm Ctx B DB *
DB : Ctx |{tm}- plus A B ~~&gt; T_P
DB1 : desugar_tm Ctx T_P TB
============================
 plus DA DB = TB
</pre>
<pre class="code extensibella"id="122">
 &lt; <b>case DB.</b>

Subgoal 6:

Variables: Ctx T TA TB T_P
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DB : desugar_tm Ctx T TB
DA : Ctx |{tm}- T ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
============================
 TA = TB
</pre>
<pre class="code extensibella"id="123">
 &lt; <b>DB: case DB.</b>

Subgoal 6.1:

Variables: Ctx TA T_P X
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (var X)
DA : Ctx |{tm}- var X ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
============================
 TA = var X
</pre>
<pre class="code extensibella"id="124">
 &lt; <b>case DA.</b>

Subgoal 6.2:

Variables: Ctx TA T_P DTm DTy X Tm Ty
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (abs X Ty Tm)
DA : Ctx |{tm}- abs X Ty Tm ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
DB : desugar_ty Ty DTy
DB1 : desugar_tm ((X, Ty)::Ctx) Tm DTm
============================
 TA = abs X DTy DTm
</pre>
<pre class="code extensibella"id="125">
 &lt; <b>case DA.</b>

Subgoal 6.3:

Variables: Ctx TA T_P DB DA B A
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (app A B)
DA : Ctx |{tm}- app A B ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
DB : desugar_tm Ctx A DA
DB1 : desugar_tm Ctx B DB
============================
 TA = app DA DB
</pre>
<pre class="code extensibella"id="126">
 &lt; <b>case DA.</b>

Subgoal 6.4:

Variables: Ctx TA T_P I
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (num I)
DA : Ctx |{tm}- num I ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
============================
 TA = num I
</pre>
<pre class="code extensibella"id="127">
 &lt; <b>case DA.</b>

Subgoal 6.5:

Variables: Ctx TA T_P DB DA B A
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm (plus A B)
DA : Ctx |{tm}- plus A B ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
DB : desugar_tm Ctx A DA
DB1 : desugar_tm Ctx B DB
============================
 TA = plus DA DB
</pre>
<pre class="code extensibella"id="128">
 &lt; <b>case DA.</b>

Subgoal 6.6:

Variables: Ctx T TA TB T_P T_P1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DA : Ctx |{tm}- T ~~&gt; T_P
DA1 : desugar_tm Ctx T_P TA *
DB : Ctx |{tm}- T ~~&gt; T_P1
DB1 : desugar_tm Ctx T_P1 TB
============================
 TA = TB
</pre>
<pre class="code extensibella"id="129">
 &lt; <b>apply proj_tm_unique to DA DB _ _.</b>

Subgoal 6.6:

Variables: Ctx T TA TB T_P1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DA : Ctx |{tm}- T ~~&gt; T_P1
DA1 : desugar_tm Ctx T_P1 TA *
DB : Ctx |{tm}- T ~~&gt; T_P1
DB1 : desugar_tm Ctx T_P1 TB
============================
 TA = TB
</pre>
<pre class="code extensibella"id="130">
 &lt; <b>apply proj_is to DA _ _.</b>

Subgoal 6.6:

Variables: Ctx T TA TB T_P1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DA : Ctx |{tm}- T ~~&gt; T_P1
DA1 : desugar_tm Ctx T_P1 TA *
DB : Ctx |{tm}- T ~~&gt; T_P1
DB1 : desugar_tm Ctx T_P1 TB
H1 : is_tm T_P1
============================
 TA = TB
</pre>
<pre class="code extensibella"id="131">
 &lt; <b>apply IH to _ _ DA1 DB1.</b>

Subgoal 6.6:

Variables: Ctx T TB T_P1
IH : forall Ctx T TA TB,
       is_list (is_pair is_string is_ty) Ctx -&gt; is_tm T -&gt; desugar_tm Ctx T TA * -&gt;
       desugar_tm Ctx T TB -&gt; TA = TB
IsCtx : is_list (is_pair is_string is_ty) Ctx
IsT : is_tm T
DA : Ctx |{tm}- T ~~&gt; T_P1
DA1 : desugar_tm Ctx T_P1 TB *
DB : Ctx |{tm}- T ~~&gt; T_P1
DB1 : desugar_tm Ctx T_P1 TB
H1 : is_tm T_P1
============================
 TB = TB
</pre>
<pre class="code extensibella"id="132">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="133">
 &lt; <b>Extensible_Theorem
      desugar_ty_exists : forall Ty,
         IsTy : is_ty Ty -&gt;
         exists Ty',
           desugar_ty Ty Ty'
      on IsTy.</b>

Subgoal 1:

Variables: Ty2 Ty1
IH : forall Ty, is_ty Ty * -&gt; exists Ty', desugar_ty Ty Ty'
IsTy : is_ty (arrowTy Ty1 Ty2) @
IsTy1 : is_ty Ty1 *
IsTy2 : is_ty Ty2 *
============================
 exists Ty', desugar_ty (arrowTy Ty1 Ty2) Ty'
</pre>
<pre class="code extensibella"id="134">
 &lt; <b>apply IH to IsTy1.</b>

Subgoal 1:

Variables: Ty2 Ty1 Ty'
IH : forall Ty, is_ty Ty * -&gt; exists Ty', desugar_ty Ty Ty'
IsTy : is_ty (arrowTy Ty1 Ty2) @
IsTy1 : is_ty Ty1 *
IsTy2 : is_ty Ty2 *
H1 : desugar_ty Ty1 Ty'
============================
 exists Ty', desugar_ty (arrowTy Ty1 Ty2) Ty'
</pre>
<pre class="code extensibella"id="135">
 &lt; <b>apply IH to IsTy2.</b>

Subgoal 1:

Variables: Ty2 Ty1 Ty' Ty'1
IH : forall Ty, is_ty Ty * -&gt; exists Ty', desugar_ty Ty Ty'
IsTy : is_ty (arrowTy Ty1 Ty2) @
IsTy1 : is_ty Ty1 *
IsTy2 : is_ty Ty2 *
H1 : desugar_ty Ty1 Ty'
H2 : desugar_ty Ty2 Ty'1
============================
 exists Ty', desugar_ty (arrowTy Ty1 Ty2) Ty'
</pre>
<pre class="code extensibella"id="136">
 &lt; <b>search.</b>

Subgoal 2:

IH : forall Ty, is_ty Ty * -&gt; exists Ty', desugar_ty Ty Ty'
IsTy : is_ty intTy @
============================
 exists Ty', desugar_ty intTy Ty'
</pre>
<pre class="code extensibella"id="137">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="138">
 &lt; <b>Define host_is_ty : ty -&gt; prop by
   host_is_ty (arrowTy Ty1 Ty2) :=
     host_is_ty Ty1 /\ host_is_ty Ty2;
   host_is_ty intTy.</b>


</pre>
<pre class="code extensibella"id="139">
 &lt; <b>Define host_is_tm : tm -&gt; prop by
   host_is_tm (var X) :=
     is_string X;
   host_is_tm (abs X Ty B) :=
     (is_string X /\ host_is_ty Ty) /\ host_is_tm B;
   host_is_tm (app A B) :=
     host_is_tm A /\ host_is_tm B;
   host_is_tm (num I) :=
     is_integer I;
   host_is_tm (plus A B) :=
     host_is_tm A /\ host_is_tm B.</b>


</pre>
<pre class="code extensibella"id="140">
 &lt; <b>Theorem desugar_ty_host_is_ty :
     forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy -&gt; host_is_ty DTy.</b>

============================
 forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy -&gt; host_is_ty DTy
</pre>
<pre class="code extensibella"id="141">
 &lt; <b>induction on 2.</b>

IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
============================
 forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy @ -&gt; host_is_ty DTy
</pre>
<pre class="code extensibella"id="142">
 &lt; <b>intros IsTy DS.</b>

Variables: Ty DTy
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty Ty
DS : desugar_ty Ty DTy @
============================
 host_is_ty DTy
</pre>
<pre class="code extensibella"id="143">
 &lt; <b>DS: case DS.</b>

Subgoal 1:

Variables: DB DA B A
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty (arrowTy A B)
DS : desugar_ty A DA *
DS1 : desugar_ty B DB *
============================
 host_is_ty (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="144">
 &lt; <b>case IsTy.</b>

Subgoal 1:

Variables: DB DA B A
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
DS : desugar_ty A DA *
DS1 : desugar_ty B DB *
H1 : is_ty A
H2 : is_ty B
============================
 host_is_ty (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="145">
 &lt; <b>apply IH to _ DS.</b>

Subgoal 1:

Variables: DB DA B A
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
DS : desugar_ty A DA *
DS1 : desugar_ty B DB *
H1 : is_ty A
H2 : is_ty B
H3 : host_is_ty DA
============================
 host_is_ty (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="146">
 &lt; <b>apply IH to _ DS1.</b>

Subgoal 1:

Variables: DB DA B A
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
DS : desugar_ty A DA *
DS1 : desugar_ty B DB *
H1 : is_ty A
H2 : is_ty B
H3 : host_is_ty DA
H4 : host_is_ty DB
============================
 host_is_ty (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="147">
 &lt; <b>search.</b>

Subgoal 2:

IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty intTy
============================
 host_is_ty intTy
</pre>
<pre class="code extensibella"id="148">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ty DTy Ty_P
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty Ty
DS : |{ty}- Ty ~~&gt; Ty_P
DS1 : desugar_ty Ty_P DTy *
============================
 host_is_ty DTy
</pre>
<pre class="code extensibella"id="149">
 &lt; <b>apply proj_ty_is to DS _.</b>

Subgoal 3:

Variables: Ty DTy Ty_P
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty Ty
DS : |{ty}- Ty ~~&gt; Ty_P
DS1 : desugar_ty Ty_P DTy *
H1 : is_ty Ty_P
============================
 host_is_ty DTy
</pre>
<pre class="code extensibella"id="150">
 &lt; <b>apply IH to _ DS1.</b>

Subgoal 3:

Variables: Ty DTy Ty_P
IH : forall Ty DTy, is_ty Ty -&gt; desugar_ty Ty DTy * -&gt; host_is_ty DTy
IsTy : is_ty Ty
DS : |{ty}- Ty ~~&gt; Ty_P
DS1 : desugar_ty Ty_P DTy *
H1 : is_ty Ty_P
H2 : host_is_ty DTy
============================
 host_is_ty DTy
</pre>
<pre class="code extensibella"id="151">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="152">
 &lt; <b>Theorem desugar_tm_host_is_tm :
     forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT -&gt;
       host_is_tm DT.</b>

============================
 forall Ctx T DT,
   is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT -&gt; host_is_tm DT
</pre>
<pre class="code extensibella"id="153">
 &lt; <b>induction on 3.</b>

IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
============================
 forall Ctx T DT,
   is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT @ -&gt; host_is_tm DT
</pre>
<pre class="code extensibella"id="154">
 &lt; <b>intros IsT IsCtx DS.</b>

Variables: Ctx T DT
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm T
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx T DT @
============================
 host_is_tm DT
</pre>
<pre class="code extensibella"id="155">
 &lt; <b>DS: case DS.</b>

Subgoal 1:

Variables: Ctx X
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
============================
 host_is_tm (var X)
</pre>
<pre class="code extensibella"id="156">
 &lt; <b>case IsT.</b>

Subgoal 1:

Variables: Ctx X
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
H1 : is_string X
============================
 host_is_tm (var X)
</pre>
<pre class="code extensibella"id="157">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx DTm DTy X Tm Ty
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm (abs X Ty Tm)
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_ty Ty DTy
DS1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
============================
 host_is_tm (abs X DTy DTm)
</pre>
<pre class="code extensibella"id="158">
 &lt; <b>case IsT.</b>

Subgoal 2:

Variables: Ctx DTm DTy X Tm Ty
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_ty Ty DTy
DS1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
============================
 host_is_tm (abs X DTy DTm)
</pre>
<pre class="code extensibella"id="159">
 &lt; <b>apply desugar_ty_host_is_ty to _ DS.</b>

Subgoal 2:

Variables: Ctx DTm DTy X Tm Ty
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_ty Ty DTy
DS1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
H4 : host_is_ty DTy
============================
 host_is_tm (abs X DTy DTm)
</pre>
<pre class="code extensibella"id="160">
 &lt; <b>apply IH to _ _ DS1.</b>

Subgoal 2:

Variables: Ctx DTm DTy X Tm Ty
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_ty Ty DTy
DS1 : desugar_tm ((X, Ty)::Ctx) Tm DTm *
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Tm
H4 : host_is_ty DTy
H5 : host_is_tm DTm
============================
 host_is_tm (abs X DTy DTm)
</pre>
<pre class="code extensibella"id="161">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm (app A B)
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
============================
 host_is_tm (app DA DB)
</pre>
<pre class="code extensibella"id="162">
 &lt; <b>case IsT.</b>

Subgoal 3:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
============================
 host_is_tm (app DA DB)
</pre>
<pre class="code extensibella"id="163">
 &lt; <b>apply IH to _ _ DS.</b>

Subgoal 3:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
H3 : host_is_tm DA
============================
 host_is_tm (app DA DB)
</pre>
<pre class="code extensibella"id="164">
 &lt; <b>apply IH to _ _ DS1.</b>

Subgoal 3:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
H3 : host_is_tm DA
H4 : host_is_tm DB
============================
 host_is_tm (app DA DB)
</pre>
<pre class="code extensibella"id="165">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx I
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
============================
 host_is_tm (num I)
</pre>
<pre class="code extensibella"id="166">
 &lt; <b>case IsT.</b>

Subgoal 4:

Variables: Ctx I
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
H1 : is_integer I
============================
 host_is_tm (num I)
</pre>
<pre class="code extensibella"id="167">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm (plus A B)
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
============================
 host_is_tm (plus DA DB)
</pre>
<pre class="code extensibella"id="168">
 &lt; <b>case IsT.</b>

Subgoal 5:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
============================
 host_is_tm (plus DA DB)
</pre>
<pre class="code extensibella"id="169">
 &lt; <b>apply IH to _ _ DS.</b>

Subgoal 5:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
H3 : host_is_tm DA
============================
 host_is_tm (plus DA DB)
</pre>
<pre class="code extensibella"id="170">
 &lt; <b>apply IH to _ _ DS1.</b>

Subgoal 5:

Variables: Ctx DB DA B A
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : desugar_tm Ctx A DA *
DS1 : desugar_tm Ctx B DB *
H1 : is_tm A
H2 : is_tm B
H3 : host_is_tm DA
H4 : host_is_tm DB
============================
 host_is_tm (plus DA DB)
</pre>
<pre class="code extensibella"id="171">
 &lt; <b>search.</b>

Subgoal 6:

Variables: Ctx T DT T_P
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm T
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : Ctx |{tm}- T ~~&gt; T_P
DS1 : desugar_tm Ctx T_P DT *
============================
 host_is_tm DT
</pre>
<pre class="code extensibella"id="172">
 &lt; <b>apply proj_is to DS _ _.</b>

Subgoal 6:

Variables: Ctx T DT T_P
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm T
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : Ctx |{tm}- T ~~&gt; T_P
DS1 : desugar_tm Ctx T_P DT *
H1 : is_tm T_P
============================
 host_is_tm DT
</pre>
<pre class="code extensibella"id="173">
 &lt; <b>apply IH to _ _ DS1.</b>

Subgoal 6:

Variables: Ctx T DT T_P
IH : forall Ctx T DT,
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; desugar_tm Ctx T DT * -&gt;
       host_is_tm DT
IsT : is_tm T
IsCtx : is_list (is_pair is_string is_ty) Ctx
DS : Ctx |{tm}- T ~~&gt; T_P
DS1 : desugar_tm Ctx T_P DT *
H1 : is_tm T_P
H2 : host_is_tm DT
============================
 host_is_tm DT
</pre>
<pre class="code extensibella"id="174">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="175">
 &lt; <b>Extensible_Theorem
      desugar_ty_rel : forall Ctx T Ty T' Ty' Ctx',
         IsT : is_tm T -&gt;
         IsCtx : is_list (is_pair is_string is_ty) Ctx -&gt;
         Ty : typeOf Ctx T Ty -&gt;
         DT : desugar_tm Ctx T T' -&gt;
         DTy : desugar_ty Ty Ty' -&gt;
         DCtx : desugar_ctx Ctx Ctx' -&gt;
         typeOf Ctx' T' Ty'
      on Ty.</b>

Subgoal 1:

Variables: Ctx Ty T' Ty' Ctx' X
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DT : desugar_tm Ctx (var X) T'
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="176">
 &lt; <b>L: apply lookup_desugar_ctx to Ty1 DCtx.</b>

Subgoal 1:

Variables: Ctx Ty T' Ty' Ctx' X Ty'1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DT : desugar_tm Ctx (var X) T'
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
L : lookup Ctx' X Ty'1
L1 : desugar_ty Ty Ty'1
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="177">
 &lt; <b>DT: case DT.</b>

Subgoal 1.1:

Variables: Ctx Ty Ty' Ctx' X Ty'1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
L : lookup Ctx' X Ty'1
L1 : desugar_ty Ty Ty'1
============================
 typeOf Ctx' (var X) Ty'
</pre>
<pre class="code extensibella"id="178">
 &lt; <b>apply lookup_ty_is to _ Ty1.</b>

Subgoal 1.1:

Variables: Ctx Ty Ty' Ctx' X Ty'1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
L : lookup Ctx' X Ty'1
L1 : desugar_ty Ty Ty'1
H1 : is_ty Ty
============================
 typeOf Ctx' (var X) Ty'
</pre>
<pre class="code extensibella"id="179">
 &lt; <b>apply desugar_ty_unique to _ L1 DTy.</b>

Subgoal 1.1:

Variables: Ctx Ty Ty' Ctx' X
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
L : lookup Ctx' X Ty'
L1 : desugar_ty Ty Ty'
H1 : is_ty Ty
============================
 typeOf Ctx' (var X) Ty'
</pre>
<pre class="code extensibella"id="180">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: Ctx Ty T' Ty' Ctx' X Ty'1 T_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (var X)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (var X) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : lookup Ctx X Ty
L : lookup Ctx' X Ty'1
L1 : desugar_ty Ty Ty'1
DT : Ctx |{tm}- var X ~~&gt; T_P
DT1 : desugar_tm Ctx T_P T'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="181">
 &lt; <b>case DT.</b>

Subgoal 2:

Variables: Ctx T' Ty' Ctx' Ty2 Ty1 Body X
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (abs X Ty1 Body)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DT : desugar_tm Ctx (abs X Ty1 Body) T'
DTy : desugar_ty (arrowTy Ty1 Ty2) Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="182">
 &lt; <b>case IsT.</b>

Subgoal 2:

Variables: Ctx T' Ty' Ctx' Ty2 Ty1 Body X
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DT : desugar_tm Ctx (abs X Ty1 Body) T'
DTy : desugar_ty (arrowTy Ty1 Ty2) Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="183">
 &lt; <b>DT: case DT.</b>

Subgoal 2.1:

Variables: Ctx Ty' Ctx' Ty2 Ty1 Body X DTm DTy
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DTy : desugar_ty (arrowTy Ty1 Ty2) Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : desugar_ty Ty1 DTy
DT1 : desugar_tm ((X, Ty1)::Ctx) Body DTm
============================
 typeOf Ctx' (abs X DTy DTm) Ty'
</pre>
<pre class="code extensibella"id="184">
 &lt; <b>DTy: case DTy.</b>

Subgoal 2.1.1:

Variables: Ctx Ctx' Ty2 Ty1 Body X DTm DTy DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : desugar_ty Ty1 DTy
DT1 : desugar_tm ((X, Ty1)::Ctx) Body DTm
DTy : desugar_ty Ty1 DA
DTy1 : desugar_ty Ty2 DB
============================
 typeOf Ctx' (abs X DTy DTm) (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="185">
 &lt; <b>apply desugar_ty_unique to _ DT DTy.</b>

Subgoal 2.1.1:

Variables: Ctx Ctx' Ty2 Ty1 Body X DTm DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : desugar_ty Ty1 DA
DT1 : desugar_tm ((X, Ty1)::Ctx) Body DTm
DTy : desugar_ty Ty1 DA
DTy1 : desugar_ty Ty2 DB
============================
 typeOf Ctx' (abs X DA DTm) (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="186">
 &lt; <b>apply IH to _ _ Ty1 DT1 DTy1 _.</b>

Subgoal 2.1.1:

Variables: Ctx Ctx' Ty2 Ty1 Body X DTm DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : desugar_ty Ty1 DA
DT1 : desugar_tm ((X, Ty1)::Ctx) Body DTm
DTy : desugar_ty Ty1 DA
DTy1 : desugar_ty Ty2 DB
H4 : typeOf ((X, DA)::Ctx') DTm DB
============================
 typeOf Ctx' (abs X DA DTm) (arrowTy DA DB)
</pre>
<pre class="code extensibella"id="187">
 &lt; <b>search.</b>

Subgoal 2.1.2:

Variables: Ctx Ty' Ctx' Ty2 Ty1 Body X DTm DTy Ty_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : desugar_ty Ty1 DTy
DT1 : desugar_tm ((X, Ty1)::Ctx) Body DTm
DTy : |{ty}- arrowTy Ty1 Ty2 ~~&gt; Ty_P
DTy1 : desugar_ty Ty_P Ty'
============================
 typeOf Ctx' (abs X DTy DTm) Ty'
</pre>
<pre class="code extensibella"id="188">
 &lt; <b>case DTy.</b>

Subgoal 2.2:

Variables: Ctx T' Ty' Ctx' Ty2 Ty1 Body X T_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (abs X Ty1 Body) (arrowTy Ty1 Ty2) @
DTy : desugar_ty (arrowTy Ty1 Ty2) Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf ((X, Ty1)::Ctx) Body Ty2 *
H1 : is_string X
H2 : is_ty Ty1
H3 : is_tm Body
DT : Ctx |{tm}- abs X Ty1 Body ~~&gt; T_P
DT1 : desugar_tm Ctx T_P T'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="189">
 &lt; <b>case DT.</b>

Subgoal 3:

Variables: Ctx Ty T' Ty' Ctx' Ty1 T2 T1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (app T1 T2)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DT : desugar_tm Ctx (app T1 T2) T'
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="190">
 &lt; <b>case IsT.</b>

Subgoal 3:

Variables: Ctx Ty T' Ty' Ctx' Ty1 T2 T1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DT : desugar_tm Ctx (app T1 T2) T'
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="191">
 &lt; <b>DT: case DT.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="192">
 &lt; <b>IsTy: apply type_is to _ _ Ty1.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
IsTy : is_ty (arrowTy Ty1 Ty)
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="193">
 &lt; <b>Is: case IsTy.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
Is : is_ty Ty1
Is1 : is_ty Ty
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="194">
 &lt; <b>apply desugar_ty_exists to Is.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA Ty'1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
Is : is_ty Ty1
Is1 : is_ty Ty
H3 : desugar_ty Ty1 Ty'1
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="195">
 &lt; <b>apply desugar_ty_exists to Is1.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA Ty'1 Ty'2
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
Is : is_ty Ty1
Is1 : is_ty Ty
H3 : desugar_ty Ty1 Ty'1
H4 : desugar_ty Ty Ty'2
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="196">
 &lt; <b>apply IH to _ _ Ty1 DT _ _.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA Ty'1 Ty'2
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
Is : is_ty Ty1
Is1 : is_ty Ty
H3 : desugar_ty Ty1 Ty'1
H4 : desugar_ty Ty Ty'2
H5 : typeOf Ctx' DA (arrowTy Ty'1 Ty')
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="197">
 &lt; <b>apply IH to _ _ Ty2 DT1 _ _.</b>

Subgoal 3.1:

Variables: Ctx Ty Ty' Ctx' Ty1 T2 T1 DB DA Ty'1 Ty'2
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
Is : is_ty Ty1
Is1 : is_ty Ty
H3 : desugar_ty Ty1 Ty'1
H4 : desugar_ty Ty Ty'2
H5 : typeOf Ctx' DA (arrowTy Ty'1 Ty')
H6 : typeOf Ctx' DB Ty'1
============================
 typeOf Ctx' (app DA DB) Ty'
</pre>
<pre class="code extensibella"id="198">
 &lt; <b>search.</b>

Subgoal 3.2:

Variables: Ctx Ty T' Ty' Ctx' Ty1 T2 T1 T_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (app T1 T2) Ty @
DTy : desugar_ty Ty Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 (arrowTy Ty1 Ty) *
Ty2 : typeOf Ctx T2 Ty1 *
H1 : is_tm T1
H2 : is_tm T2
DT : Ctx |{tm}- app T1 T2 ~~&gt; T_P
DT1 : desugar_tm Ctx T_P T'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="199">
 &lt; <b>case DT.</b>

Subgoal 4:

Variables: Ctx T' Ty' Ctx' I
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (num I) intTy @
DT : desugar_tm Ctx (num I) T'
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="200">
 &lt; <b>DT: case DT.</b>

Subgoal 4.1:

Variables: Ctx Ty' Ctx' I
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (num I) intTy @
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
============================
 typeOf Ctx' (num I) Ty'
</pre>
<pre class="code extensibella"id="201">
 &lt; <b>DTy: case DTy.</b>

Subgoal 4.1.1:

Variables: Ctx Ctx' I
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (num I) intTy @
DCtx : desugar_ctx Ctx Ctx'
============================
 typeOf Ctx' (num I) intTy
</pre>
<pre class="code extensibella"id="202">
 &lt; <b>search.</b>

Subgoal 4.1.2:

Variables: Ctx Ty' Ctx' I Ty_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (num I) intTy @
DCtx : desugar_ctx Ctx Ctx'
DTy : |{ty}- intTy ~~&gt; Ty_P
DTy1 : desugar_ty Ty_P Ty'
============================
 typeOf Ctx' (num I) Ty'
</pre>
<pre class="code extensibella"id="203">
 &lt; <b>case DTy.</b>

Subgoal 4.2:

Variables: Ctx T' Ty' Ctx' I T_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (num I)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (num I) intTy @
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
DT : Ctx |{tm}- num I ~~&gt; T_P
DT1 : desugar_tm Ctx T_P T'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="204">
 &lt; <b>case DT.</b>

Subgoal 5:

Variables: Ctx T' Ty' Ctx' T2 T1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsT : is_tm (plus T1 T2)
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DT : desugar_tm Ctx (plus T1 T2) T'
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="205">
 &lt; <b>case IsT.</b>

Subgoal 5:

Variables: Ctx T' Ty' Ctx' T2 T1
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DT : desugar_tm Ctx (plus T1 T2) T'
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="206">
 &lt; <b>DT: case DT.</b>

Subgoal 5.1:

Variables: Ctx Ty' Ctx' T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
============================
 typeOf Ctx' (plus DA DB) Ty'
</pre>
<pre class="code extensibella"id="207">
 &lt; <b>DTy: case DTy.</b>

Subgoal 5.1.1:

Variables: Ctx Ctx' T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
============================
 typeOf Ctx' (plus DA DB) intTy
</pre>
<pre class="code extensibella"id="208">
 &lt; <b>apply IH to _ _ Ty1 DT _ _.</b>

Subgoal 5.1.1:

Variables: Ctx Ctx' T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
H3 : typeOf Ctx' DA intTy
============================
 typeOf Ctx' (plus DA DB) intTy
</pre>
<pre class="code extensibella"id="209">
 &lt; <b>apply IH to _ _ Ty2 DT1 _ _.</b>

Subgoal 5.1.1:

Variables: Ctx Ctx' T2 T1 DB DA
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
H3 : typeOf Ctx' DA intTy
H4 : typeOf Ctx' DB intTy
============================
 typeOf Ctx' (plus DA DB) intTy
</pre>
<pre class="code extensibella"id="210">
 &lt; <b>search.</b>

Subgoal 5.1.2:

Variables: Ctx Ty' Ctx' T2 T1 DB DA Ty_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : desugar_tm Ctx T1 DA
DT1 : desugar_tm Ctx T2 DB
DTy : |{ty}- intTy ~~&gt; Ty_P
DTy1 : desugar_ty Ty_P Ty'
============================
 typeOf Ctx' (plus DA DB) Ty'
</pre>
<pre class="code extensibella"id="211">
 &lt; <b>case DTy.</b>

Subgoal 5.2:

Variables: Ctx T' Ty' Ctx' T2 T1 T_P
IH : forall Ctx T Ty T' Ty' Ctx',
       is_tm T -&gt; is_list (is_pair is_string is_ty) Ctx -&gt; typeOf Ctx T Ty * -&gt; desugar_tm Ctx T T' -&gt;
       desugar_ty Ty Ty' -&gt; desugar_ctx Ctx Ctx' -&gt; typeOf Ctx' T' Ty'
IsCtx : is_list (is_pair is_string is_ty) Ctx
Ty : typeOf Ctx (plus T1 T2) intTy @
DTy : desugar_ty intTy Ty'
DCtx : desugar_ctx Ctx Ctx'
Ty1 : typeOf Ctx T1 intTy *
Ty2 : typeOf Ctx T2 intTy *
H1 : is_tm T1
H2 : is_tm T2
DT : Ctx |{tm}- plus T1 T2 ~~&gt; T_P
DT1 : desugar_tm Ctx T_P T'
============================
 typeOf Ctx' T' Ty'
</pre>
<pre class="code extensibella"id="212">
 &lt; <b>case DT.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="213">
 &lt; <b>Theorem subst_is :
     forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S -&gt; is_tm S.</b>

============================
 forall X R T S, is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S -&gt; is_tm S
</pre>
<pre class="code extensibella"id="214">
 &lt; <b>induction on 4.</b>

IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
============================
 forall X R T S, is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S @ -&gt; is_tm S
</pre>
<pre class="code extensibella"id="215">
 &lt; <b>intros IsT IsX IsR S.</b>

Variables: X R T S
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm T
IsX : is_string X
IsR : is_tm R
S : subst X R T S @
============================
 is_tm S
</pre>
<pre class="code extensibella"id="216">
 &lt; <b>S: case S.</b>

Subgoal 1:

Variables: X R Y
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (var Y)
IsX : is_string X
IsR : is_tm R
S : X = Y -&gt; false
============================
 is_tm (var Y)
</pre>
<pre class="code extensibella"id="217">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X S
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (var X)
IsX : is_string X
IsR : is_tm S
============================
 is_tm S
</pre>
<pre class="code extensibella"id="218">
 &lt; <b>search.</b>

Subgoal 3:

Variables: X R S1 Ty Y B
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (abs Y Ty B)
IsX : is_string X
IsR : is_tm R
S : X = Y -&gt; false
S1 : subst X R B S1 *
============================
 is_tm (abs Y Ty S1)
</pre>
<pre class="code extensibella"id="219">
 &lt; <b>Is: case IsT.</b>

Subgoal 3:

Variables: X R S1 Ty Y B
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : X = Y -&gt; false
S1 : subst X R B S1 *
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_tm B
============================
 is_tm (abs Y Ty S1)
</pre>
<pre class="code extensibella"id="220">
 &lt; <b>apply IH to _ _ _ S1.</b>

Subgoal 3:

Variables: X R S1 Ty Y B
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : X = Y -&gt; false
S1 : subst X R B S1 *
Is : is_string Y
Is1 : is_ty Ty
Is2 : is_tm B
H1 : is_tm S1
============================
 is_tm (abs Y Ty S1)
</pre>
<pre class="code extensibella"id="221">
 &lt; <b>search.</b>

Subgoal 4:

Variables: X R B Ty
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (abs X Ty B)
IsX : is_string X
IsR : is_tm R
============================
 is_tm (abs X Ty B)
</pre>
<pre class="code extensibella"id="222">
 &lt; <b>search.</b>

Subgoal 5:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (app T1 T2)
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
============================
 is_tm (app S1 S2)
</pre>
<pre class="code extensibella"id="223">
 &lt; <b>Is: case IsT.</b>

Subgoal 5:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (app S1 S2)
</pre>
<pre class="code extensibella"id="224">
 &lt; <b>apply IH to _ _ _ S.</b>

Subgoal 5:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm S1
============================
 is_tm (app S1 S2)
</pre>
<pre class="code extensibella"id="225">
 &lt; <b>apply IH to _ _ _ S1.</b>

Subgoal 5:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm S1
H2 : is_tm S2
============================
 is_tm (app S1 S2)
</pre>
<pre class="code extensibella"id="226">
 &lt; <b>search.</b>

Subgoal 6:

Variables: X R I
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (num I)
IsX : is_string X
IsR : is_tm R
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="227">
 &lt; <b>search.</b>

Subgoal 7:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsT : is_tm (plus T1 T2)
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
============================
 is_tm (plus S1 S2)
</pre>
<pre class="code extensibella"id="228">
 &lt; <b>Is: case IsT.</b>

Subgoal 7:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (plus S1 S2)
</pre>
<pre class="code extensibella"id="229">
 &lt; <b>apply IH to _ _ _ S.</b>

Subgoal 7:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm S1
============================
 is_tm (plus S1 S2)
</pre>
<pre class="code extensibella"id="230">
 &lt; <b>apply IH to _ _ _ S1.</b>

Subgoal 7:

Variables: X R S2 S1 T2 T1
IH : forall X R T S,
       is_tm T -&gt; is_string X -&gt; is_tm R -&gt; subst X R T S * -&gt; is_tm S
IsX : is_string X
IsR : is_tm R
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm S1
H2 : is_tm S2
============================
 is_tm (plus S1 S2)
</pre>
<pre class="code extensibella"id="231">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="232">
 &lt; <b>Theorem eval_is :
     forall T T', is_tm T -&gt; eval T T' -&gt; is_tm T'.</b>

============================
 forall T T', is_tm T -&gt; eval T T' -&gt; is_tm T'
</pre>
<pre class="code extensibella"id="233">
 &lt; <b>induction on 2.</b>

IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
============================
 forall T T', is_tm T -&gt; eval T T' @ -&gt; is_tm T'
</pre>
<pre class="code extensibella"id="234">
 &lt; <b>intros IsT Ev.</b>

Variables: T T'
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm T
Ev : eval T T' @
============================
 is_tm T'
</pre>
<pre class="code extensibella"id="235">
 &lt; <b>Ev: case Ev.</b>

Subgoal 1:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (app T1 T2)
Ev : eval T1 T11 *
============================
 is_tm (app T11 T2)
</pre>
<pre class="code extensibella"id="236">
 &lt; <b>Is: case IsT.</b>

Subgoal 1:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : eval T1 T11 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (app T11 T2)
</pre>
<pre class="code extensibella"id="237">
 &lt; <b>apply IH to _ Ev.</b>

Subgoal 1:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : eval T1 T11 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm T11
============================
 is_tm (app T11 T2)
</pre>
<pre class="code extensibella"id="238">
 &lt; <b>search.</b>

Subgoal 2:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (app T1 T2)
Ev : value T1
Ev1 : eval T2 T21 *
============================
 is_tm (app T1 T21)
</pre>
<pre class="code extensibella"id="239">
 &lt; <b>Is: case IsT.</b>

Subgoal 2:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T1
Ev1 : eval T2 T21 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (app T1 T21)
</pre>
<pre class="code extensibella"id="240">
 &lt; <b>apply IH to _ Ev1.</b>

Subgoal 2:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T1
Ev1 : eval T2 T21 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm T21
============================
 is_tm (app T1 T21)
</pre>
<pre class="code extensibella"id="241">
 &lt; <b>search.</b>

Subgoal 3:

Variables: T' T2 Body Ty X
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (app (abs X Ty Body) T2)
Ev : value T2
Ev1 : subst X T2 Body T'
============================
 is_tm T'
</pre>
<pre class="code extensibella"id="242">
 &lt; <b>Is: case IsT.</b>

Subgoal 3:

Variables: T' T2 Body Ty X
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T2
Ev1 : subst X T2 Body T'
Is : is_tm (abs X Ty Body)
Is1 : is_tm T2
============================
 is_tm T'
</pre>
<pre class="code extensibella"id="243">
 &lt; <b>case Is.</b>

Subgoal 3:

Variables: T' T2 Body Ty X
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T2
Ev1 : subst X T2 Body T'
Is1 : is_tm T2
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Body
============================
 is_tm T'
</pre>
<pre class="code extensibella"id="244">
 &lt; <b>apply subst_is to _ _ _ Ev1.</b>

Subgoal 3:

Variables: T' T2 Body Ty X
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T2
Ev1 : subst X T2 Body T'
Is1 : is_tm T2
H1 : is_string X
H2 : is_ty Ty
H3 : is_tm Body
H4 : is_tm T'
============================
 is_tm T'
</pre>
<pre class="code extensibella"id="245">
 &lt; <b>search.</b>

Subgoal 4:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (plus T1 T2)
Ev : eval T1 T11 *
============================
 is_tm (plus T11 T2)
</pre>
<pre class="code extensibella"id="246">
 &lt; <b>Is: case IsT.</b>

Subgoal 4:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : eval T1 T11 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (plus T11 T2)
</pre>
<pre class="code extensibella"id="247">
 &lt; <b>apply IH to _ Ev.</b>

Subgoal 4:

Variables: T2 T11 T1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : eval T1 T11 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm T11
============================
 is_tm (plus T11 T2)
</pre>
<pre class="code extensibella"id="248">
 &lt; <b>search.</b>

Subgoal 5:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (plus T1 T2)
Ev : value T1
Ev1 : eval T2 T21 *
============================
 is_tm (plus T1 T21)
</pre>
<pre class="code extensibella"id="249">
 &lt; <b>Is: case IsT.</b>

Subgoal 5:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T1
Ev1 : eval T2 T21 *
Is : is_tm T1
Is1 : is_tm T2
============================
 is_tm (plus T1 T21)
</pre>
<pre class="code extensibella"id="250">
 &lt; <b>apply IH to _ Ev1.</b>

Subgoal 5:

Variables: T21 T1 T2
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : value T1
Ev1 : eval T2 T21 *
Is : is_tm T1
Is1 : is_tm T2
H1 : is_tm T21
============================
 is_tm (plus T1 T21)
</pre>
<pre class="code extensibella"id="251">
 &lt; <b>search.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
IsT : is_tm (plus (num I1) (num I2))
Ev : I1 + I2 = I
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="252">
 &lt; <b>Is: case IsT.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : I1 + I2 = I
Is : is_tm (num I1)
Is1 : is_tm (num I2)
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="253">
 &lt; <b>case Is.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : I1 + I2 = I
Is1 : is_tm (num I2)
H1 : is_integer I1
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="254">
 &lt; <b>case Is1.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : I1 + I2 = I
H1 : is_integer I1
H2 : is_integer I2
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="255">
 &lt; <b>apply plus_integer_is_integer to _ _ Ev.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T T', is_tm T -&gt; eval T T' * -&gt; is_tm T'
Ev : I1 + I2 = I
H1 : is_integer I1
H2 : is_integer I2
H3 : is_integer I
============================
 is_tm (num I)
</pre>
<pre class="code extensibella"id="256">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="257">
 &lt; <b>Theorem subst_unique :
     forall X R T VA VB, subst X R T VA -&gt; subst X R T VB -&gt; VA = VB.</b>

============================
 forall X R T VA VB, subst X R T VA -&gt; subst X R T VB -&gt; VA = VB
</pre>
<pre class="code extensibella"id="258">
 &lt; <b>induction on 1.</b>

IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
============================
 forall X R T VA VB, subst X R T VA @ -&gt; subst X R T VB -&gt; VA = VB
</pre>
<pre class="code extensibella"id="259">
 &lt; <b>intros SA SB.</b>

Variables: X R T VA VB
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T VA @
SB : subst X R T VB
============================
 VA = VB
</pre>
<pre class="code extensibella"id="260">
 &lt; <b>SA: case SA.</b>

Subgoal 1:

Variables: X R VB Y
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (var Y) VB
SA : X = Y -&gt; false
============================
 var Y = VB
</pre>
<pre class="code extensibella"id="261">
 &lt; <b>SB: case SB.</b>

Subgoal 1.1:

Variables: X R Y
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : X = Y -&gt; false
SB : X = Y -&gt; false
============================
 var Y = var Y
</pre>
<pre class="code extensibella"id="262">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: VB Y
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : Y = Y -&gt; false
============================
 var Y = VB
</pre>
<pre class="code extensibella"id="263">
 &lt; <b>apply SA to _.</b>

Subgoal 2:

Variables: X VA VB
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X VA (var X) VB
============================
 VA = VB
</pre>
<pre class="code extensibella"id="264">
 &lt; <b>SB: case SB.</b>

Subgoal 2.1:

Variables: X VA
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : X = X -&gt; false
============================
 VA = var X
</pre>
<pre class="code extensibella"id="265">
 &lt; <b>apply SB to _.</b>

Subgoal 2.2:

Variables: X VB
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
============================
 VB = VB
</pre>
<pre class="code extensibella"id="266">
 &lt; <b>search.</b>

Subgoal 3:

Variables: X R VB S Ty Y B
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (abs Y Ty B) VB
SA : X = Y -&gt; false
SA1 : subst X R B S *
============================
 abs Y Ty S = VB
</pre>
<pre class="code extensibella"id="267">
 &lt; <b>SB: case SB.</b>

Subgoal 3.1:

Variables: X R S Ty Y B S1
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : X = Y -&gt; false
SA1 : subst X R B S *
SB : X = Y -&gt; false
SB1 : subst X R B S1
============================
 abs Y Ty S = abs Y Ty S1
</pre>
<pre class="code extensibella"id="268">
 &lt; <b>apply IH to SA1 SB1.</b>

Subgoal 3.1:

Variables: X R Ty Y B S1
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : X = Y -&gt; false
SA1 : subst X R B S1 *
SB : X = Y -&gt; false
SB1 : subst X R B S1
============================
 abs Y Ty S1 = abs Y Ty S1
</pre>
<pre class="code extensibella"id="269">
 &lt; <b>search.</b>

Subgoal 3.2:

Variables: R S Ty Y B
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : Y = Y -&gt; false
SA1 : subst Y R B S *
============================
 abs Y Ty S = abs Y Ty B
</pre>
<pre class="code extensibella"id="270">
 &lt; <b>apply SA to _.</b>

Subgoal 4:

Variables: X R VB B Ty
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (abs X Ty B) VB
============================
 abs X Ty B = VB
</pre>
<pre class="code extensibella"id="271">
 &lt; <b>SB: case SB.</b>

Subgoal 4.1:

Variables: X R B Ty S
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : X = X -&gt; false
SB1 : subst X R B S
============================
 abs X Ty B = abs X Ty S
</pre>
<pre class="code extensibella"id="272">
 &lt; <b>apply SB to _.</b>

Subgoal 4.2:

Variables: X R B Ty
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
============================
 abs X Ty B = abs X Ty B
</pre>
<pre class="code extensibella"id="273">
 &lt; <b>search.</b>

Subgoal 5:

Variables: X R VB S2 S1 T2 T1
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (app T1 T2) VB
SA : subst X R T1 S1 *
SA1 : subst X R T2 S2 *
============================
 app S1 S2 = VB
</pre>
<pre class="code extensibella"id="274">
 &lt; <b>SB: case SB.</b>

Subgoal 5:

Variables: X R S2 S1 T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S1 *
SA1 : subst X R T2 S2 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 app S1 S2 = app S3 S4
</pre>
<pre class="code extensibella"id="275">
 &lt; <b>apply IH to SA SB.</b>

Subgoal 5:

Variables: X R S2 T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S3 *
SA1 : subst X R T2 S2 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 app S3 S2 = app S3 S4
</pre>
<pre class="code extensibella"id="276">
 &lt; <b>apply IH to SA1 SB1.</b>

Subgoal 5:

Variables: X R T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S3 *
SA1 : subst X R T2 S4 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 app S3 S4 = app S3 S4
</pre>
<pre class="code extensibella"id="277">
 &lt; <b>search.</b>

Subgoal 6:

Variables: X R VB I
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (num I) VB
============================
 num I = VB
</pre>
<pre class="code extensibella"id="278">
 &lt; <b>SB: case SB.</b>

Subgoal 6:

Variables: X R I
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
============================
 num I = num I
</pre>
<pre class="code extensibella"id="279">
 &lt; <b>search.</b>

Subgoal 7:

Variables: X R VB S2 S1 T2 T1
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SB : subst X R (plus T1 T2) VB
SA : subst X R T1 S1 *
SA1 : subst X R T2 S2 *
============================
 plus S1 S2 = VB
</pre>
<pre class="code extensibella"id="280">
 &lt; <b>SB: case SB.</b>

Subgoal 7:

Variables: X R S2 S1 T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S1 *
SA1 : subst X R T2 S2 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 plus S1 S2 = plus S3 S4
</pre>
<pre class="code extensibella"id="281">
 &lt; <b>apply IH to SA SB.</b>

Subgoal 7:

Variables: X R S2 T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S3 *
SA1 : subst X R T2 S2 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 plus S3 S2 = plus S3 S4
</pre>
<pre class="code extensibella"id="282">
 &lt; <b>apply IH to SA1 SB1.</b>

Subgoal 7:

Variables: X R T2 T1 S4 S3
IH : forall X R T VA VB, subst X R T VA * -&gt; subst X R T VB -&gt; VA = VB
SA : subst X R T1 S3 *
SA1 : subst X R T2 S4 *
SB : subst X R T1 S3
SB1 : subst X R T2 S4
============================
 plus S3 S4 = plus S3 S4
</pre>
<pre class="code extensibella"id="283">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="284">
 &lt; <b>Theorem value_eval_false :
     forall T V, value T -&gt; eval T V -&gt; false.</b>

============================
 forall T V, value T -&gt; eval T V -&gt; false
</pre>
<pre class="code extensibella"id="285">
 &lt; <b>intros V Ev.</b>

Variables: T V
V : value T
Ev : eval T V
============================
 false
</pre>
<pre class="code extensibella"id="286">
 &lt; <b>V: case V.</b>

Subgoal 1:

Variables: V T1 Ty X
Ev : eval (abs X Ty T1) V
============================
 false
</pre>
<pre class="code extensibella"id="287">
 &lt; <b>case Ev.</b>

Subgoal 2:

Variables: V I
Ev : eval (num I) V
============================
 false
</pre>
<pre class="code extensibella"id="288">
 &lt; <b>case Ev.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="289">
 &lt; <b>Theorem eval_unique :
     forall T VA VB, eval T VA -&gt; eval T VB -&gt; VA = VB.</b>

============================
 forall T VA VB, eval T VA -&gt; eval T VB -&gt; VA = VB
</pre>
<pre class="code extensibella"id="290">
 &lt; <b>induction on 1.</b>

IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
============================
 forall T VA VB, eval T VA @ -&gt; eval T VB -&gt; VA = VB
</pre>
<pre class="code extensibella"id="291">
 &lt; <b>intros EvA EvB.</b>

Variables: T VA VB
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T VA @
EvB : eval T VB
============================
 VA = VB
</pre>
<pre class="code extensibella"id="292">
 &lt; <b>EvA: case EvA.</b>

Subgoal 1:

Variables: VB T2 T11 T1
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (app T1 T2) VB
EvA : eval T1 T11 *
============================
 app T11 T2 = VB
</pre>
<pre class="code extensibella"id="293">
 &lt; <b>EvB: case EvB.</b>

Subgoal 1.1:

Variables: T2 T11 T1 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T11 *
EvB : eval T1 T5
============================
 app T11 T2 = app T5 T2
</pre>
<pre class="code extensibella"id="294">
 &lt; <b>apply IH to EvA EvB.</b>

Subgoal 1.1:

Variables: T2 T1 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T5 *
EvB : eval T1 T5
============================
 app T5 T2 = app T5 T2
</pre>
<pre class="code extensibella"id="295">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: T2 T11 T1 T21
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T11 *
EvB : value T1
EvB1 : eval T2 T21
============================
 app T11 T2 = app T1 T21
</pre>
<pre class="code extensibella"id="296">
 &lt; <b>apply value_eval_false to EvB EvA.</b>

Subgoal 1.3:

Variables: VB T2 T11 Body Ty X
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval (abs X Ty Body) T11 *
EvB : value T2
EvB1 : subst X T2 Body VB
============================
 app T11 T2 = VB
</pre>
<pre class="code extensibella"id="297">
 &lt; <b>apply value_eval_false to _ EvA.</b>

Subgoal 2:

Variables: VB T21 T1 T2
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (app T1 T2) VB
EvA : value T1
EvA1 : eval T2 T21 *
============================
 app T1 T21 = VB
</pre>
<pre class="code extensibella"id="298">
 &lt; <b>EvB: case EvB.</b>

Subgoal 2.1:

Variables: T21 T1 T2 T11
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T21 *
EvB : eval T1 T11
============================
 app T1 T21 = app T11 T2
</pre>
<pre class="code extensibella"id="299">
 &lt; <b>apply value_eval_false to EvA EvB.</b>

Subgoal 2.2:

Variables: T21 T1 T2 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T21 *
EvB : value T1
EvB1 : eval T2 T5
============================
 app T1 T21 = app T1 T5
</pre>
<pre class="code extensibella"id="300">
 &lt; <b>apply IH to EvA1 EvB1.</b>

Subgoal 2.2:

Variables: T1 T2 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T5 *
EvB : value T1
EvB1 : eval T2 T5
============================
 app T1 T5 = app T1 T5
</pre>
<pre class="code extensibella"id="301">
 &lt; <b>search.</b>

Subgoal 2.3:

Variables: VB T21 T2 Body Ty X
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value (abs X Ty Body)
EvA1 : eval T2 T21 *
EvB : value T2
EvB1 : subst X T2 Body VB
============================
 app (abs X Ty Body) T21 = VB
</pre>
<pre class="code extensibella"id="302">
 &lt; <b>apply value_eval_false to EvB EvA1.</b>

Subgoal 3:

Variables: VA VB T2 Body Ty X
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (app (abs X Ty Body) T2) VB
EvA : value T2
EvA1 : subst X T2 Body VA
============================
 VA = VB
</pre>
<pre class="code extensibella"id="303">
 &lt; <b>EvB: case EvB.</b>

Subgoal 3.1:

Variables: VA T2 Body Ty X T11
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T2
EvA1 : subst X T2 Body VA
EvB : eval (abs X Ty Body) T11
============================
 VA = app T11 T2
</pre>
<pre class="code extensibella"id="304">
 &lt; <b>case EvB.</b>

Subgoal 3.2:

Variables: VA T2 Body Ty X T21
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T2
EvA1 : subst X T2 Body VA
EvB : value (abs X Ty Body)
EvB1 : eval T2 T21
============================
 VA = app (abs X Ty Body) T21
</pre>
<pre class="code extensibella"id="305">
 &lt; <b>apply value_eval_false to EvA EvB1.</b>

Subgoal 3.3:

Variables: VA VB T2 Body Ty X
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T2
EvA1 : subst X T2 Body VA
EvB : value T2
EvB1 : subst X T2 Body VB
============================
 VA = VB
</pre>
<pre class="code extensibella"id="306">
 &lt; <b>apply subst_unique to EvA1 EvB1.</b>

Subgoal 3.3:

Variables: VB T2 Body Ty X
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T2
EvA1 : subst X T2 Body VB
EvB : value T2
EvB1 : subst X T2 Body VB
============================
 VB = VB
</pre>
<pre class="code extensibella"id="307">
 &lt; <b>search.</b>

Subgoal 4:

Variables: VB T2 T11 T1
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (plus T1 T2) VB
EvA : eval T1 T11 *
============================
 plus T11 T2 = VB
</pre>
<pre class="code extensibella"id="308">
 &lt; <b>EvB: case EvB.</b>

Subgoal 4.1:

Variables: T2 T11 T1 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T11 *
EvB : eval T1 T5
============================
 plus T11 T2 = plus T5 T2
</pre>
<pre class="code extensibella"id="309">
 &lt; <b>apply IH to EvA EvB.</b>

Subgoal 4.1:

Variables: T2 T1 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T5 *
EvB : eval T1 T5
============================
 plus T5 T2 = plus T5 T2
</pre>
<pre class="code extensibella"id="310">
 &lt; <b>search.</b>

Subgoal 4.2:

Variables: T2 T11 T1 T21
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval T1 T11 *
EvB : value T1
EvB1 : eval T2 T21
============================
 plus T11 T2 = plus T1 T21
</pre>
<pre class="code extensibella"id="311">
 &lt; <b>apply value_eval_false to EvB EvA.</b>

Subgoal 4.3:

Variables: T11 I I2 I1
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : eval (num I1) T11 *
EvB : I1 + I2 = I
============================
 plus T11 (num I2) = num I
</pre>
<pre class="code extensibella"id="312">
 &lt; <b>case EvA.</b>

Subgoal 5:

Variables: VB T21 T1 T2
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (plus T1 T2) VB
EvA : value T1
EvA1 : eval T2 T21 *
============================
 plus T1 T21 = VB
</pre>
<pre class="code extensibella"id="313">
 &lt; <b>EvB: case EvB.</b>

Subgoal 5.1:

Variables: T21 T1 T2 T11
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T21 *
EvB : eval T1 T11
============================
 plus T1 T21 = plus T11 T2
</pre>
<pre class="code extensibella"id="314">
 &lt; <b>apply value_eval_false to EvA EvB.</b>

Subgoal 5.2:

Variables: T21 T1 T2 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T21 *
EvB : value T1
EvB1 : eval T2 T5
============================
 plus T1 T21 = plus T1 T5
</pre>
<pre class="code extensibella"id="315">
 &lt; <b>apply IH to EvA1 EvB1.</b>

Subgoal 5.2:

Variables: T1 T2 T5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value T1
EvA1 : eval T2 T5 *
EvB : value T1
EvB1 : eval T2 T5
============================
 plus T1 T5 = plus T1 T5
</pre>
<pre class="code extensibella"id="316">
 &lt; <b>search.</b>

Subgoal 5.3:

Variables: T21 I I2 I1
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : value (num I1)
EvA1 : eval (num I2) T21 *
EvB : I1 + I2 = I
============================
 plus (num I1) T21 = num I
</pre>
<pre class="code extensibella"id="317">
 &lt; <b>case EvA1.</b>

Subgoal 6:

Variables: VB I I2 I1
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvB : eval (plus (num I1) (num I2)) VB
EvA : I1 + I2 = I
============================
 num I = VB
</pre>
<pre class="code extensibella"id="318">
 &lt; <b>EvB: case EvB.</b>

Subgoal 6.1:

Variables: I I2 I1 T11
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : I1 + I2 = I
EvB : eval (num I1) T11
============================
 num I = plus T11 (num I2)
</pre>
<pre class="code extensibella"id="319">
 &lt; <b>case EvB.</b>

Subgoal 6.2:

Variables: I I2 I1 T21
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : I1 + I2 = I
EvB : value (num I1)
EvB1 : eval (num I2) T21
============================
 num I = plus (num I1) T21
</pre>
<pre class="code extensibella"id="320">
 &lt; <b>case EvB1.</b>

Subgoal 6.3:

Variables: I I2 I1 I5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : I1 + I2 = I
EvB : I1 + I2 = I5
============================
 num I = num I5
</pre>
<pre class="code extensibella"id="321">
 &lt; <b>apply plus_integer_unique to EvA EvB.</b>

Subgoal 6.3:

Variables: I2 I1 I5
IH : forall T VA VB, eval T VA * -&gt; eval T VB -&gt; VA = VB
EvA : I1 + I2 = I5
EvB : I1 + I2 = I5
============================
 num I5 = num I5
</pre>
<pre class="code extensibella"id="322">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="323">
 &lt; <b>Theorem subst_type_preservation :
     forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty.</b>

============================
 forall T Ctx X XTy Ty R S,
   typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="324">
 &lt; <b>induction on 2.</b>

IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
============================
 forall T Ctx X XTy Ty R S,
   typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S @ -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="325">
 &lt; <b>intros TTy S RTy.</b>

Variables: T Ctx X XTy Ty R S
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) T Ty
S : subst X R T S @
RTy : typeOf [] R XTy
============================
 typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="326">
 &lt; <b>S: case S.</b>

Subgoal 1:

Variables: Ctx X XTy Ty R Y
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (var Y) Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
============================
 typeOf Ctx (var Y) Ty
</pre>
<pre class="code extensibella"id="327">
 &lt; <b>Ty: case TTy.</b>

Subgoal 1:

Variables: Ctx X XTy Ty R Y
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
Ty : lookup ((X, XTy)::Ctx) Y Ty
============================
 typeOf Ctx (var Y) Ty
</pre>
<pre class="code extensibella"id="328">
 &lt; <b>Lkp: case Ty.</b>

Subgoal 1.1:

Variables: Ctx Ty R Y
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R Ty
S : Y = Y -&gt; false
============================
 typeOf Ctx (var Y) Ty
</pre>
<pre class="code extensibella"id="329">
 &lt; <b>apply S to _.</b>

Subgoal 1.2:

Variables: Ctx X XTy Ty R Y
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
Lkp : X = Y -&gt; false
Lkp1 : lookup Ctx Y Ty
============================
 typeOf Ctx (var Y) Ty
</pre>
<pre class="code extensibella"id="330">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ctx X XTy Ty S
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (var X) Ty
RTy : typeOf [] S XTy
============================
 typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="331">
 &lt; <b>Ty: case TTy.</b>

Subgoal 2:

Variables: Ctx X XTy Ty S
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] S XTy
Ty : lookup ((X, XTy)::Ctx) X Ty
============================
 typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="332">
 &lt; <b>L: case Ty.</b>

Subgoal 2.1:

Variables: Ctx X Ty S
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] S Ty
============================
 typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="333">
 &lt; <b>backchain empty_ty_any.</b>

Subgoal 2.2:

Variables: Ctx X XTy Ty S
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] S XTy
L : X = X -&gt; false
L1 : lookup Ctx X Ty
============================
 typeOf Ctx S Ty
</pre>
<pre class="code extensibella"id="334">
 &lt; <b>apply L to _.</b>

Subgoal 3:

Variables: Ctx X XTy Ty R S1 Ty1 Y B
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (abs Y Ty1 B) Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
============================
 typeOf Ctx (abs Y Ty1 S1) Ty
</pre>
<pre class="code extensibella"id="335">
 &lt; <b>Ty: case TTy.</b>

Subgoal 3:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
============================
 typeOf Ctx (abs Y Ty1 S1) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="336">
 &lt; <b>Ty': apply ty_lookup to Ty _ with
          Ctx2 = (X, XTy)::((Y, Ty1)::Ctx).</b>

Subgoal 3.1:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
============================
 forall X1 XTy1,
   lookup ((Y, Ty1)::((X, XTy)::Ctx)) X1 XTy1 -&gt; lookup ((X, XTy)::((Y, Ty1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="337">
 &lt; <b>intros L.</b>

Subgoal 3.1:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
L : lookup ((Y, Ty1)::((X, XTy)::Ctx)) X1 XTy1
============================
 lookup ((X, XTy)::((Y, Ty1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="338">
 &lt; <b>L: case L.</b>

Subgoal 3.1.1:

Variables: Ctx X XTy R S1 B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = X1 -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((X1, XTy1)::((X, XTy)::Ctx)) B Ty3
============================
 lookup ((X, XTy)::((X1, XTy1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="339">
 &lt; <b>search.</b>

Subgoal 3.1.2:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
L : Y = X1 -&gt; false
L1 : lookup ((X, XTy)::Ctx) X1 XTy1
============================
 lookup ((X, XTy)::((Y, Ty1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="340">
 &lt; <b>L: case L1.</b>

Subgoal 3.1.2.1:

Variables: Ctx R S1 Ty1 Y B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy1
S : X1 = Y -&gt; false
S1 : subst X1 R B S1 *
Ty : typeOf ((Y, Ty1)::((X1, XTy1)::Ctx)) B Ty3
L : Y = X1 -&gt; false
============================
 lookup ((X1, XTy1)::((Y, Ty1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="341">
 &lt; <b>search.</b>

Subgoal 3.1.2.2:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
L : Y = X1 -&gt; false
L1 : X = X1 -&gt; false
L2 : lookup Ctx X1 XTy1
============================
 lookup ((X, XTy)::((Y, Ty1)::Ctx)) X1 XTy1
</pre>
<pre class="code extensibella"id="342">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
Ty' : typeOf ((X, XTy)::((Y, Ty1)::Ctx)) B Ty3
============================
 typeOf Ctx (abs Y Ty1 S1) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="343">
 &lt; <b>apply IH to Ty' S1 _.</b>

Subgoal 3:

Variables: Ctx X XTy R S1 Ty1 Y B Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : X = Y -&gt; false
S1 : subst X R B S1 *
Ty : typeOf ((Y, Ty1)::((X, XTy)::Ctx)) B Ty3
Ty' : typeOf ((X, XTy)::((Y, Ty1)::Ctx)) B Ty3
H1 : typeOf ((Y, Ty1)::Ctx) S1 Ty3
============================
 typeOf Ctx (abs Y Ty1 S1) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="344">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx X XTy Ty R B Ty1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (abs X Ty1 B) Ty
RTy : typeOf [] R XTy
============================
 typeOf Ctx (abs X Ty1 B) Ty
</pre>
<pre class="code extensibella"id="345">
 &lt; <b>Ty: case TTy.</b>

Subgoal 4:

Variables: Ctx X XTy R B Ty1 Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
============================
 typeOf Ctx (abs X Ty1 B) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="346">
 &lt; <b>apply ty_lookup to Ty _ with
     Ctx2 = (X, Ty1)::Ctx.</b>

Subgoal 4.1:

Variables: Ctx X XTy R B Ty1 Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
============================
 forall X1 XTy1,
   lookup ((X, Ty1)::((X, XTy)::Ctx)) X1 XTy1 -&gt; lookup ((X, Ty1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="347">
 &lt; <b>intros L.</b>

Subgoal 4.1:

Variables: Ctx X XTy R B Ty1 Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
L : lookup ((X, Ty1)::((X, XTy)::Ctx)) X1 XTy1
============================
 lookup ((X, Ty1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="348">
 &lt; <b>L: case L.</b>

Subgoal 4.1.1:

Variables: Ctx XTy R B Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X1, XTy1)::((X1, XTy)::Ctx)) B Ty3
============================
 lookup ((X1, XTy1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="349">
 &lt; <b>search.</b>

Subgoal 4.1.2:

Variables: Ctx X XTy R B Ty1 Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
L : X = X1 -&gt; false
L1 : lookup ((X, XTy)::Ctx) X1 XTy1
============================
 lookup ((X, Ty1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="350">
 &lt; <b>L: case L1.</b>

Subgoal 4.1.2.1:

Variables: Ctx R B Ty1 Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy1
Ty : typeOf ((X1, Ty1)::((X1, XTy1)::Ctx)) B Ty3
L : X1 = X1 -&gt; false
============================
 lookup ((X1, Ty1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="351">
 &lt; <b>apply L to _.</b>

Subgoal 4.1.2.2:

Variables: Ctx X XTy R B Ty1 Ty3 X1 XTy1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
L : X = X1 -&gt; false
L1 : X = X1 -&gt; false
L2 : lookup Ctx X1 XTy1
============================
 lookup ((X, Ty1)::Ctx) X1 XTy1
</pre>
<pre class="code extensibella"id="352">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ctx X XTy R B Ty1 Ty3
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
Ty : typeOf ((X, Ty1)::((X, XTy)::Ctx)) B Ty3
H1 : typeOf ((X, Ty1)::Ctx) B Ty3
============================
 typeOf Ctx (abs X Ty1 B) (arrowTy Ty1 Ty3)
</pre>
<pre class="code extensibella"id="353">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ctx X XTy Ty R S2 S1 T2 T1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (app T1 T2) Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
============================
 typeOf Ctx (app S1 S2) Ty
</pre>
<pre class="code extensibella"id="354">
 &lt; <b>Ty: case TTy.</b>

Subgoal 5:

Variables: Ctx X XTy Ty R S2 S1 T2 T1 Ty1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 (arrowTy Ty1 Ty)
Ty1 : typeOf ((X, XTy)::Ctx) T2 Ty1
============================
 typeOf Ctx (app S1 S2) Ty
</pre>
<pre class="code extensibella"id="355">
 &lt; <b>apply IH to Ty S _.</b>

Subgoal 5:

Variables: Ctx X XTy Ty R S2 S1 T2 T1 Ty1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 (arrowTy Ty1 Ty)
Ty1 : typeOf ((X, XTy)::Ctx) T2 Ty1
H1 : typeOf Ctx S1 (arrowTy Ty1 Ty)
============================
 typeOf Ctx (app S1 S2) Ty
</pre>
<pre class="code extensibella"id="356">
 &lt; <b>apply IH to Ty1 S1 _.</b>

Subgoal 5:

Variables: Ctx X XTy Ty R S2 S1 T2 T1 Ty1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 (arrowTy Ty1 Ty)
Ty1 : typeOf ((X, XTy)::Ctx) T2 Ty1
H1 : typeOf Ctx S1 (arrowTy Ty1 Ty)
H2 : typeOf Ctx S2 Ty1
============================
 typeOf Ctx (app S1 S2) Ty
</pre>
<pre class="code extensibella"id="357">
 &lt; <b>search.</b>

Subgoal 6:

Variables: Ctx X XTy Ty R I
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (num I) Ty
RTy : typeOf [] R XTy
============================
 typeOf Ctx (num I) Ty
</pre>
<pre class="code extensibella"id="358">
 &lt; <b>case TTy.</b>

Subgoal 6:

Variables: Ctx X XTy R I
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
============================
 typeOf Ctx (num I) intTy
</pre>
<pre class="code extensibella"id="359">
 &lt; <b>search.</b>

Subgoal 7:

Variables: Ctx X XTy Ty R S2 S1 T2 T1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
TTy : typeOf ((X, XTy)::Ctx) (plus T1 T2) Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
============================
 typeOf Ctx (plus S1 S2) Ty
</pre>
<pre class="code extensibella"id="360">
 &lt; <b>Ty: case TTy.</b>

Subgoal 7:

Variables: Ctx X XTy R S2 S1 T2 T1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 intTy
Ty1 : typeOf ((X, XTy)::Ctx) T2 intTy
============================
 typeOf Ctx (plus S1 S2) intTy
</pre>
<pre class="code extensibella"id="361">
 &lt; <b>apply IH to Ty S _.</b>

Subgoal 7:

Variables: Ctx X XTy R S2 S1 T2 T1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 intTy
Ty1 : typeOf ((X, XTy)::Ctx) T2 intTy
H1 : typeOf Ctx S1 intTy
============================
 typeOf Ctx (plus S1 S2) intTy
</pre>
<pre class="code extensibella"id="362">
 &lt; <b>apply IH to Ty1 S1 _.</b>

Subgoal 7:

Variables: Ctx X XTy R S2 S1 T2 T1
IH : forall T Ctx X XTy Ty R S,
       typeOf ((X, XTy)::Ctx) T Ty -&gt; subst X R T S * -&gt; typeOf [] R XTy -&gt; typeOf Ctx S Ty
RTy : typeOf [] R XTy
S : subst X R T1 S1 *
S1 : subst X R T2 S2 *
Ty : typeOf ((X, XTy)::Ctx) T1 intTy
Ty1 : typeOf ((X, XTy)::Ctx) T2 intTy
H1 : typeOf Ctx S1 intTy
H2 : typeOf Ctx S2 intTy
============================
 typeOf Ctx (plus S1 S2) intTy
</pre>
<pre class="code extensibella"id="363">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="364">
 &lt; <b>Theorem type_preservation :
     forall T Ty T', typeOf [] T Ty -&gt; eval T T' -&gt; typeOf [] T' Ty.</b>

============================
 forall T Ty T', typeOf [] T Ty -&gt; eval T T' -&gt; typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="365">
 &lt; <b>induction on 2.</b>

IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
============================
 forall T Ty T', typeOf [] T Ty -&gt; eval T T' @ -&gt; typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="366">
 &lt; <b>intros Ty Ev.</b>

Variables: T Ty T'
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] T Ty
Ev : eval T T' @
============================
 typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="367">
 &lt; <b>Ev: case Ev.</b>

Subgoal 1:

Variables: Ty T2 T11 T1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (app T1 T2) Ty
Ev : eval T1 T11 *
============================
 typeOf [] (app T11 T2) Ty
</pre>
<pre class="code extensibella"id="368">
 &lt; <b>Ty: case Ty.</b>

Subgoal 1:

Variables: Ty T2 T11 T1 Ty1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : eval T1 T11 *
Ty : typeOf [] T1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] T2 Ty1
============================
 typeOf [] (app T11 T2) Ty
</pre>
<pre class="code extensibella"id="369">
 &lt; <b>apply IH to Ty Ev.</b>

Subgoal 1:

Variables: Ty T2 T11 T1 Ty1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : eval T1 T11 *
Ty : typeOf [] T1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] T2 Ty1
H1 : typeOf [] T11 (arrowTy Ty1 Ty)
============================
 typeOf [] (app T11 T2) Ty
</pre>
<pre class="code extensibella"id="370">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ty T21 T1 T2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (app T1 T2) Ty
Ev : value T1
Ev1 : eval T2 T21 *
============================
 typeOf [] (app T1 T21) Ty
</pre>
<pre class="code extensibella"id="371">
 &lt; <b>Ty: case Ty.</b>

Subgoal 2:

Variables: Ty T21 T1 T2 Ty1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T1
Ev1 : eval T2 T21 *
Ty : typeOf [] T1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] T2 Ty1
============================
 typeOf [] (app T1 T21) Ty
</pre>
<pre class="code extensibella"id="372">
 &lt; <b>apply IH to Ty1 Ev1.</b>

Subgoal 2:

Variables: Ty T21 T1 T2 Ty1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T1
Ev1 : eval T2 T21 *
Ty : typeOf [] T1 (arrowTy Ty1 Ty)
Ty1 : typeOf [] T2 Ty1
H1 : typeOf [] T21 Ty1
============================
 typeOf [] (app T1 T21) Ty
</pre>
<pre class="code extensibella"id="373">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ty T' T2 Body Ty1 X
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (app (abs X Ty1 Body) T2) Ty
Ev : value T2
Ev1 : subst X T2 Body T'
============================
 typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="374">
 &lt; <b>Ty: case Ty.</b>

Subgoal 3:

Variables: Ty T' T2 Body Ty1 X Ty2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T2
Ev1 : subst X T2 Body T'
Ty : typeOf [] (abs X Ty1 Body) (arrowTy Ty2 Ty)
Ty1 : typeOf [] T2 Ty2
============================
 typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="375">
 &lt; <b>Ty: case Ty.</b>

Subgoal 3:

Variables: Ty T' T2 Body X Ty2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T2
Ev1 : subst X T2 Body T'
Ty1 : typeOf [] T2 Ty2
Ty : typeOf [(X, Ty2)] Body Ty
============================
 typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="376">
 &lt; <b>apply subst_type_preservation to Ty Ev1 Ty1.</b>

Subgoal 3:

Variables: Ty T' T2 Body X Ty2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T2
Ev1 : subst X T2 Body T'
Ty1 : typeOf [] T2 Ty2
Ty : typeOf [(X, Ty2)] Body Ty
H1 : typeOf [] T' Ty
============================
 typeOf [] T' Ty
</pre>
<pre class="code extensibella"id="377">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ty T2 T11 T1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (plus T1 T2) Ty
Ev : eval T1 T11 *
============================
 typeOf [] (plus T11 T2) Ty
</pre>
<pre class="code extensibella"id="378">
 &lt; <b>Ty: case Ty.</b>

Subgoal 4:

Variables: T2 T11 T1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : eval T1 T11 *
Ty : typeOf [] T1 intTy
Ty1 : typeOf [] T2 intTy
============================
 typeOf [] (plus T11 T2) intTy
</pre>
<pre class="code extensibella"id="379">
 &lt; <b>apply IH to Ty Ev.</b>

Subgoal 4:

Variables: T2 T11 T1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : eval T1 T11 *
Ty : typeOf [] T1 intTy
Ty1 : typeOf [] T2 intTy
H1 : typeOf [] T11 intTy
============================
 typeOf [] (plus T11 T2) intTy
</pre>
<pre class="code extensibella"id="380">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ty T21 T1 T2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (plus T1 T2) Ty
Ev : value T1
Ev1 : eval T2 T21 *
============================
 typeOf [] (plus T1 T21) Ty
</pre>
<pre class="code extensibella"id="381">
 &lt; <b>Ty: case Ty.</b>

Subgoal 5:

Variables: T21 T1 T2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T1
Ev1 : eval T2 T21 *
Ty : typeOf [] T1 intTy
Ty1 : typeOf [] T2 intTy
============================
 typeOf [] (plus T1 T21) intTy
</pre>
<pre class="code extensibella"id="382">
 &lt; <b>apply IH to Ty1 Ev1.</b>

Subgoal 5:

Variables: T21 T1 T2
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : value T1
Ev1 : eval T2 T21 *
Ty : typeOf [] T1 intTy
Ty1 : typeOf [] T2 intTy
H1 : typeOf [] T21 intTy
============================
 typeOf [] (plus T1 T21) intTy
</pre>
<pre class="code extensibella"id="383">
 &lt; <b>search.</b>

Subgoal 6:

Variables: Ty I I2 I1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ty : typeOf [] (plus (num I1) (num I2)) Ty
Ev : I1 + I2 = I
============================
 typeOf [] (num I) Ty
</pre>
<pre class="code extensibella"id="384">
 &lt; <b>Ty: case Ty.</b>

Subgoal 6:

Variables: I I2 I1
IH : forall T Ty T', typeOf [] T Ty -&gt; eval T T' * -&gt; typeOf [] T' Ty
Ev : I1 + I2 = I
Ty : typeOf [] (num I1) intTy
Ty1 : typeOf [] (num I2) intTy
============================
 typeOf [] (num I) intTy
</pre>
<pre class="code extensibella"id="385">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="386">
 &lt; <b>Theorem subst_total :
     forall X R T, host_is_tm T -&gt; is_string X -&gt; exists S, subst X R T S.</b>

============================
 forall X R T, host_is_tm T -&gt; is_string X -&gt; exists S, subst X R T S
</pre>
<pre class="code extensibella"id="387">
 &lt; <b>induction on 1.</b>

IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
============================
 forall X R T, host_is_tm T @ -&gt; is_string X -&gt; exists S, subst X R T S
</pre>
<pre class="code extensibella"id="388">
 &lt; <b>intros IsT IsX.</b>

Variables: X R T
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsT : host_is_tm T @
IsX : is_string X
============================
 exists S, subst X R T S
</pre>
<pre class="code extensibella"id="389">
 &lt; <b>IsT: case IsT.</b>

Subgoal 1:

Variables: X R X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
============================
 exists S, subst X R (var X1) S
</pre>
<pre class="code extensibella"id="390">
 &lt; <b>Or: apply is_string_eq_or_not to IsX IsT.</b>

Subgoal 1:

Variables: X R X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
Or : X = X1 \/ (X = X1 -&gt; false)
============================
 exists S, subst X R (var X1) S
</pre>
<pre class="code extensibella"id="391">
 &lt; <b>E: case Or.</b>

Subgoal 1.1:

Variables: R X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X1
IsT : is_string X1
============================
 exists S, subst X1 R (var X1) S
</pre>
<pre class="code extensibella"id="392">
 &lt; <b>search.</b>

Subgoal 1.2:

Variables: X R X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
E : X = X1 -&gt; false
============================
 exists S, subst X R (var X1) S
</pre>
<pre class="code extensibella"id="393">
 &lt; <b>search.</b>

Subgoal 2:

Variables: X R B Ty X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
IsT1 : host_is_ty Ty
IsT2 : host_is_tm B *
============================
 exists S, subst X R (abs X1 Ty B) S
</pre>
<pre class="code extensibella"id="394">
 &lt; <b>Or: apply is_string_eq_or_not to IsX IsT.</b>

Subgoal 2:

Variables: X R B Ty X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
IsT1 : host_is_ty Ty
IsT2 : host_is_tm B *
Or : X = X1 \/ (X = X1 -&gt; false)
============================
 exists S, subst X R (abs X1 Ty B) S
</pre>
<pre class="code extensibella"id="395">
 &lt; <b>E: case Or.</b>

Subgoal 2.1:

Variables: R B Ty X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X1
IsT : is_string X1
IsT1 : host_is_ty Ty
IsT2 : host_is_tm B *
============================
 exists S, subst X1 R (abs X1 Ty B) S
</pre>
<pre class="code extensibella"id="396">
 &lt; <b>search.</b>

Subgoal 2.2:

Variables: X R B Ty X1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
IsT1 : host_is_ty Ty
IsT2 : host_is_tm B *
E : X = X1 -&gt; false
============================
 exists S, subst X R (abs X1 Ty B) S
</pre>
<pre class="code extensibella"id="397">
 &lt; <b>apply IH to IsT2 IsX with
     R = R.</b>

Subgoal 2.2:

Variables: X R B Ty X1 S
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_string X1
IsT1 : host_is_ty Ty
IsT2 : host_is_tm B *
E : X = X1 -&gt; false
H1 : subst X R B S
============================
 exists S, subst X R (abs X1 Ty B) S
</pre>
<pre class="code extensibella"id="398">
 &lt; <b>search.</b>

Subgoal 3:

Variables: X R B A
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
============================
 exists S, subst X R (app A B) S
</pre>
<pre class="code extensibella"id="399">
 &lt; <b>apply IH to IsT IsX with
     R = R.</b>

Subgoal 3:

Variables: X R B A S
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
H1 : subst X R A S
============================
 exists S, subst X R (app A B) S
</pre>
<pre class="code extensibella"id="400">
 &lt; <b>apply IH to IsT1 IsX with
     R = R.</b>

Subgoal 3:

Variables: X R B A S S1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
H1 : subst X R A S
H2 : subst X R B S1
============================
 exists S, subst X R (app A B) S
</pre>
<pre class="code extensibella"id="401">
 &lt; <b>search.</b>

Subgoal 4:

Variables: X R I
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : is_integer I
============================
 exists S, subst X R (num I) S
</pre>
<pre class="code extensibella"id="402">
 &lt; <b>search.</b>

Subgoal 5:

Variables: X R B A
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
============================
 exists S, subst X R (plus A B) S
</pre>
<pre class="code extensibella"id="403">
 &lt; <b>apply IH to IsT IsX with
     R = R.</b>

Subgoal 5:

Variables: X R B A S
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
H1 : subst X R A S
============================
 exists S, subst X R (plus A B) S
</pre>
<pre class="code extensibella"id="404">
 &lt; <b>apply IH to IsT1 IsX with
     R = R.</b>

Subgoal 5:

Variables: X R B A S S1
IH : forall X R T, host_is_tm T * -&gt; is_string X -&gt; exists S, subst X R T S
IsX : is_string X
IsT : host_is_tm A *
IsT1 : host_is_tm B *
H1 : subst X R A S
H2 : subst X R B S1
============================
 exists S, subst X R (plus A B) S
</pre>
<pre class="code extensibella"id="405">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="406">
 &lt; <b>Theorem canonical_form_intTy :
     forall V, value V -&gt; typeOf [] V intTy -&gt; exists I, V = num I.</b>

============================
 forall V, value V -&gt; typeOf [] V intTy -&gt; exists I, V = num I
</pre>
<pre class="code extensibella"id="407">
 &lt; <b>intros V Ty.</b>

Variables: V
V : value V
Ty : typeOf [] V intTy
============================
 exists I, V = num I
</pre>
<pre class="code extensibella"id="408">
 &lt; <b>case V.</b>

Subgoal 1:

Variables: T Ty X
Ty : typeOf [] (abs X Ty T) intTy
============================
 exists I, abs X Ty T = num I
</pre>
<pre class="code extensibella"id="409">
 &lt; <b>case Ty.</b>

Subgoal 2:

Variables: I
Ty : typeOf [] (num I) intTy
============================
 exists I1, num I = num I1
</pre>
<pre class="code extensibella"id="410">
 &lt; <b>search.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="411">
 &lt; <b>Theorem canonical_form_arrowTy :
     forall V Ty1 Ty2,
       value V -&gt; typeOf [] V (arrowTy Ty1 Ty2) -&gt; exists X B, V = abs X Ty1 B.</b>

============================
 forall V Ty1 Ty2,
   value V -&gt; typeOf [] V (arrowTy Ty1 Ty2) -&gt; exists X B, V = abs X Ty1 B
</pre>
<pre class="code extensibella"id="412">
 &lt; <b>intros V Ty.</b>

Variables: V Ty1 Ty2
V : value V
Ty : typeOf [] V (arrowTy Ty1 Ty2)
============================
 exists X B, V = abs X Ty1 B
</pre>
<pre class="code extensibella"id="413">
 &lt; <b>case V.</b>

Subgoal 1:

Variables: Ty1 Ty2 T Ty X
Ty : typeOf [] (abs X Ty T) (arrowTy Ty1 Ty2)
============================
 exists X1 B, abs X Ty T = abs X1 Ty1 B
</pre>
<pre class="code extensibella"id="414">
 &lt; <b>case Ty.</b>

Subgoal 1:

Variables: Ty1 Ty2 T X
H1 : typeOf [(X, Ty1)] T Ty2
============================
 exists X1 B, abs X Ty1 T = abs X1 Ty1 B
</pre>
<pre class="code extensibella"id="415">
 &lt; <b>search.</b>

Subgoal 2:

Variables: Ty1 Ty2 I
Ty : typeOf [] (num I) (arrowTy Ty1 Ty2)
============================
 exists X B, num I = abs X Ty1 B
</pre>
<pre class="code extensibella"id="416">
 &lt; <b>case Ty.</b>

Proof completed.
</pre>
<pre class="code extensibella"id="417">
 &lt; <b>Theorem progress :
     forall T Ty,
       host_is_tm T -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T.</b>

============================
 forall T Ty,
   host_is_tm T -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
</pre>
<pre class="code extensibella"id="418">
 &lt; <b>induction on 1.</b>

IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
============================
 forall T Ty,
   host_is_tm T @ -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
</pre>
<pre class="code extensibella"id="419">
 &lt; <b>intros IsT Ty.</b>

Variables: T Ty
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm T @
Ty : typeOf [] T Ty
============================
 (exists T', eval T T') \/ value T
</pre>
<pre class="code extensibella"id="420">
 &lt; <b>IsT: case IsT.</b>

Subgoal 1:

Variables: Ty X
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (var X) Ty
IsT : is_string X
============================
 (exists T', eval (var X) T') \/ value (var X)
</pre>
<pre class="code extensibella"id="421">
 &lt; <b>Ty: case Ty.</b>

Subgoal 1:

Variables: Ty X
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : is_string X
Ty : lookup [] X Ty
============================
 (exists T', eval (var X) T') \/ value (var X)
</pre>
<pre class="code extensibella"id="422">
 &lt; <b>case Ty.</b>

Subgoal 2:

Variables: Ty B Ty1 X
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (abs X Ty1 B) Ty
IsT : is_string X
IsT1 : host_is_ty Ty1
IsT2 : host_is_tm B *
============================
 (exists T', eval (abs X Ty1 B) T') \/ value (abs X Ty1 B)
</pre>
<pre class="code extensibella"id="423">
 &lt; <b>search.</b>

Subgoal 3:

Variables: Ty B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (app A B) Ty
IsT : host_is_tm A *
IsT1 : host_is_tm B *
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="424">
 &lt; <b>Ty: case Ty.</b>

Subgoal 3:

Variables: Ty B A Ty1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="425">
 &lt; <b>Or1: apply IH to IsT Ty.</b>

Subgoal 3:

Variables: Ty B A Ty1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Or1 : (exists T', eval A T') \/ value A
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="426">
 &lt; <b>Or2: apply IH to IsT1 Ty1.</b>

Subgoal 3:

Variables: Ty B A Ty1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Or1 : (exists T', eval A T') \/ value A
Or2 : (exists T', eval B T') \/ value B
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="427">
 &lt; <b>Ev1: case Or1.</b>

Subgoal 3.1:

Variables: Ty B A Ty1 T'
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Or2 : (exists T', eval B T') \/ value B
Ev1 : eval A T'
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="428">
 &lt; <b>search.</b>

Subgoal 3.2:

Variables: Ty B A Ty1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Or2 : (exists T', eval B T') \/ value B
Ev1 : value A
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="429">
 &lt; <b>Ev2: case Or2.</b>

Subgoal 3.2.1:

Variables: Ty B A Ty1 T'
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Ev1 : value A
Ev2 : eval B T'
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="430">
 &lt; <b>search.</b>

Subgoal 3.2.2:

Variables: Ty B A Ty1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Ev1 : value A
Ev2 : value B
============================
 (exists T', eval (app A B) T') \/ value (app A B)
</pre>
<pre class="code extensibella"id="431">
 &lt; <b>apply canonical_form_arrowTy to _ Ty.</b>

Subgoal 3.2.2:

Variables: Ty B Ty1 X B1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm (abs X Ty1 B1) *
IsT1 : host_is_tm B *
Ty : typeOf [] (abs X Ty1 B1) (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Ev1 : value (abs X Ty1 B1)
Ev2 : value B
============================
 (exists T', eval (app (abs X Ty1 B1) B) T') \/ value (app (abs X Ty1 B1) B)
</pre>
<pre class="code extensibella"id="432">
 &lt; <b>IsAbs: case IsT.</b>

Subgoal 3.2.2:

Variables: Ty B Ty1 X B1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT1 : host_is_tm B *
Ty : typeOf [] (abs X Ty1 B1) (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Ev1 : value (abs X Ty1 B1)
Ev2 : value B
IsAbs : is_string X
IsAbs1 : host_is_ty Ty1
IsAbs2 : host_is_tm B1 *
============================
 (exists T', eval (app (abs X Ty1 B1) B) T') \/ value (app (abs X Ty1 B1) B)
</pre>
<pre class="code extensibella"id="433">
 &lt; <b>apply subst_total to IsAbs2 IsAbs with
     R = B.</b>

Subgoal 3.2.2:

Variables: Ty B Ty1 X B1 S
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT1 : host_is_tm B *
Ty : typeOf [] (abs X Ty1 B1) (arrowTy Ty1 Ty)
Ty1 : typeOf [] B Ty1
Ev1 : value (abs X Ty1 B1)
Ev2 : value B
IsAbs : is_string X
IsAbs1 : host_is_ty Ty1
IsAbs2 : host_is_tm B1 *
H1 : subst X B B1 S
============================
 (exists T', eval (app (abs X Ty1 B1) B) T') \/ value (app (abs X Ty1 B1) B)
</pre>
<pre class="code extensibella"id="434">
 &lt; <b>search.</b>

Subgoal 4:

Variables: Ty I
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (num I) Ty
IsT : is_integer I
============================
 (exists T', eval (num I) T') \/ value (num I)
</pre>
<pre class="code extensibella"id="435">
 &lt; <b>search.</b>

Subgoal 5:

Variables: Ty B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (plus A B) Ty
IsT : host_is_tm A *
IsT1 : host_is_tm B *
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="436">
 &lt; <b>Ty: case Ty.</b>

Subgoal 5:

Variables: B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="437">
 &lt; <b>Or1: apply IH to IsT Ty.</b>

Subgoal 5:

Variables: B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Or1 : (exists T', eval A T') \/ value A
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="438">
 &lt; <b>Or2: apply IH to IsT1 Ty1.</b>

Subgoal 5:

Variables: B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Or1 : (exists T', eval A T') \/ value A
Or2 : (exists T', eval B T') \/ value B
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="439">
 &lt; <b>Ev1: case Or1.</b>

Subgoal 5.1:

Variables: B A T'
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Or2 : (exists T', eval B T') \/ value B
Ev1 : eval A T'
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="440">
 &lt; <b>search.</b>

Subgoal 5.2:

Variables: B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Or2 : (exists T', eval B T') \/ value B
Ev1 : value A
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="441">
 &lt; <b>Ev2: case Or2.</b>

Subgoal 5.2.1:

Variables: B A T'
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Ev1 : value A
Ev2 : eval B T'
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="442">
 &lt; <b>search.</b>

Subgoal 5.2.2:

Variables: B A
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm A *
IsT1 : host_is_tm B *
Ty : typeOf [] A intTy
Ty1 : typeOf [] B intTy
Ev1 : value A
Ev2 : value B
============================
 (exists T', eval (plus A B) T') \/ value (plus A B)
</pre>
<pre class="code extensibella"id="443">
 &lt; <b>apply canonical_form_intTy to _ Ty.</b>

Subgoal 5.2.2:

Variables: B I
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT : host_is_tm (num I) *
IsT1 : host_is_tm B *
Ty : typeOf [] (num I) intTy
Ty1 : typeOf [] B intTy
Ev1 : value (num I)
Ev2 : value B
============================
 (exists T', eval (plus (num I) B) T') \/ value (plus (num I) B)
</pre>
<pre class="code extensibella"id="444">
 &lt; <b>Is1: case IsT.</b>

Subgoal 5.2.2:

Variables: B I
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT1 : host_is_tm B *
Ty : typeOf [] (num I) intTy
Ty1 : typeOf [] B intTy
Ev1 : value (num I)
Ev2 : value B
Is1 : is_integer I
============================
 (exists T', eval (plus (num I) B) T') \/ value (plus (num I) B)
</pre>
<pre class="code extensibella"id="445">
 &lt; <b>apply canonical_form_intTy to _ Ty1.</b>

Subgoal 5.2.2:

Variables: I I1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
IsT1 : host_is_tm (num I1) *
Ty : typeOf [] (num I) intTy
Ty1 : typeOf [] (num I1) intTy
Ev1 : value (num I)
Ev2 : value (num I1)
Is1 : is_integer I
============================
 (exists T', eval (plus (num I) (num I1)) T') \/ value (plus (num I) (num I1))
</pre>
<pre class="code extensibella"id="446">
 &lt; <b>Is2: case IsT1.</b>

Subgoal 5.2.2:

Variables: I I1
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (num I) intTy
Ty1 : typeOf [] (num I1) intTy
Ev1 : value (num I)
Ev2 : value (num I1)
Is1 : is_integer I
Is2 : is_integer I1
============================
 (exists T', eval (plus (num I) (num I1)) T') \/ value (plus (num I) (num I1))
</pre>
<pre class="code extensibella"id="447">
 &lt; <b>apply plus_integer_total to Is1 Is2.</b>

Subgoal 5.2.2:

Variables: I I1 N3
IH : forall T Ty,
       host_is_tm T * -&gt; typeOf [] T Ty -&gt; (exists T', eval T T') \/ value T
Ty : typeOf [] (num I) intTy
Ty1 : typeOf [] (num I1) intTy
Ev1 : value (num I)
Ev2 : value (num I1)
Is1 : is_integer I
Is2 : is_integer I1
H1 : I + I1 = N3
============================
 (exists T', eval (plus (num I) (num I1)) T') \/ value (plus (num I) (num I1))
</pre>
<pre class="code extensibella"id="448">
 &lt; <b>search.</b>

Proof completed.
</pre>
</div>
<div class="section">
<a class="navlink" href="../description.html">Back to example home</a>
</div>
</body>
</html>
